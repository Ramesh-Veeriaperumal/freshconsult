package_assets:         on          # (on, off, always)
embed_assets:           off         # (on, off, datauri)
compress_assets:        on          # (on, off)
package_path:           packages    # (defaults to assets)
javascript_compressor:  uglifier
compressor_options:
  :output:
    :comments:          :none
css_compressor:         sass
allow_debugging:        on

stylesheets:
  common:
    - public/stylesheets/app/common.css

  app:
    - public/stylesheets/app/application.css

  plugins:
    - public/stylesheets/plugins.css

  chat:
    - public/stylesheets/chat/chat.css
    - public/stylesheets/chat/structure.css
    - public/stylesheets/chat/grey-theme.css
    - public/stylesheets/chat/base.css
    - public/stylesheets/chat/clean.css
    - public/stylesheets/chat/sprites.css

  non_pattern:
    - public/stylesheets/app/app-common.css
    - public/stylesheets/app/app-bootstrap.css

  sprites:
    - public/stylesheets/app/sprites.css

  ie_hacks:
    - public/stylesheets/app/ie.css

  pattern:
    - public/stylesheets/pattern/pattern.css

  tour_my_app:
    - public/stylesheets/app/tourmyapp.css

  codemirror:
    - public/stylesheets/codemirror.css

  portal_utils:
    - public/stylesheets/portal/portal_utils.css

  preview:
    - public/stylesheets/portal/preview.css

  widget:
    - public/stylesheets/portal/widget.css

  responsive_widget:
    - public/stylesheets/portal/responsive-widget.css

  freshwidget:
    - public/stylesheets/freshwidget.css

  icomoon:
    - public/stylesheets/chat/icomoon.css

  freshfone:
    - public/stylesheets/app/freshfone.css
    - public/stylesheets/jquery.keypad.css

  freshfone_call_history:
    - public/stylesheets/app/freshfone/call_history.css

  freshfone_ivr:
    - public/stylesheets/app/freshfone/ivr/main.css

  freshfone_settings:
    - public/stylesheets/app/freshfone/settings/main.css

  freshfone_admin:
    - public/stylesheets/app/freshfone/admin.css

  freshfone_message_select:
    - public/stylesheets/app/freshfone/message_select.css

  360player:
    - public/stylesheets/360player.css

  tkt_details:
    - public/stylesheets/app/tkt_details.css
    - public/stylesheets/app/tkt_details_sprites.css

  tkt_details_print:
    - public/stylesheets/app/tkt_details_print.css

  survey:
    - public/stylesheets/support/rating.css

  gadget:
    - public/stylesheets/app/common.css
    - public/stylesheets/app/sprites.css
    - public/stylesheets/app/app-common.css
    - public/stylesheets/app/app-bootstrap.css
    - public/stylesheets/plugins.css
    - public/stylesheets/app/ie.css
    - public/stylesheets/app/tkt_details.css
    - public/stylesheets/app/tkt_details_sprites.css
    - public/stylesheets/app/gadget.css

  subscription:
    - public/stylesheets/subscription/subscription.css
    - public/stylesheets/plugins.css

  reports:
    - public/stylesheets/app/reports.css

  print:
    - public/stylesheets/print/print.css

  report_print:
    - public/stylesheets/print/report-print.css

  getting_started:
    - public/stylesheets/app/getting_started.css

  facebook:
    - public/stylesheets/portal/facebook.css

  rating:
    - public/stylesheets/portal/rating.css


javascripts:
  defaults:
    - public/javascripts/prototype.js
    - public/javascripts/effects.js
    - public/javascripts/dragdrop.js
    - public/javascripts/controls.js

  frameworks:
    - public/javascripts/jquery-1.7.1.min.js
    - public/javascripts/jquery.pjax.js
    - public/javascripts/frameworks/sprintf.js
    - public/javascripts/frameworks/plugins/jquery.cookie.js
    - public/javascripts/frameworks/plugins/jquery.form.js
    - public/javascripts/frameworks/plugins/jquery.livequery.js
    - public/javascripts/frameworks/plugins/jquery.noblecount.js
    - public/javascripts/frameworks/plugins/jquery.overlabel.js
    - public/javascripts/frameworks/plugins/jquery.autosize.js
    - public/javascripts/frameworks/plugins/jquery.pageless.js
    - public/javascripts/frameworks/plugins/jquery.qtip.js
    - public/javascripts/frameworks/plugins/jquery.tweetfeed.js
    - public/javascripts/frameworks/plugins/jquery.tmpl.js
    - public/javascripts/frameworks/plugins/jquery.itoggle.js
    - public/javascripts/frameworks/plugins/jquery.ui.js
    - public/javascripts/frameworks/plugins/jquery.validate.js
    - public/javascripts/frameworks/plugins/jquery.gritter.js
    - public/javascripts/jquery.keypad.js
    - public/javascripts/frameworks/plugins/select2.js
    - public/javascripts/moment/*
    - public/javascripts/frameworks/plugins/jquery.blockUI.js
    - public/javascripts/frameworks/underscore-min.js
    - public/javascripts/hackz.js
    - public/javascripts/lib/nestedtree.js
    - public/javascripts/helpdesk/multifile.js
    - public/javascripts/frameworks/plugins/jquery.nested_select_tag.js
    - public/javascripts/frameworks/socket.io.js
    - public/javascripts/sisyphus.js
    - public/javascripts/ticket_list.js
    - public/javascripts/AsyncJSLoader.js
    - public/javascripts/lib/detectmobilebrowsers.js
    - public/javascripts/frameworks/plugins/jquery.ui.timepicker.addon.js    
    - public/javascripts/chat/lib/tab.overflow.js
    - public/javascripts/chat/lib/localstore.js
    - public/javascripts/chat/lib/ticket_search.js
    - public/javascripts/chat/lib/ui.tabs.closable.js
    - public/javascripts/app/ticket_details.js

  # Code editor for portal cms
  codemirror:
    - public/javascripts/codemirror/codemirror.js
    - public/javascripts/codemirror/jquery.codemirror.js
    - public/javascripts/codemirror/mode-css.js
    - public/javascripts/codemirror/mode-htmlmixed.js
    - public/javascripts/codemirror/mode-javascript.js
    - public/javascripts/codemirror/mode-liquid-mode.js
    - public/javascripts/codemirror/mode-xml.js
    - public/javascripts/codemirror/util-match-highlighter.js
    - public/javascripts/codemirror/util-overlay.js
    - public/javascripts/codemirror/util-searchcursor.js

  colorpicker:
    - public/javascripts/mColorPicker.js

  portaltemplate:
    - public/javascripts/mousetrap.js
  visitor:
    - public/javascripts/frameworks/session.js

  workspace:
    - public/javascripts/bootstrap/twipsy.js
    - public/javascripts/pattern/spin.js
    - public/javascripts/pattern/jquery.spin.js
    - public/javascripts/app/loading-init.js
    # - public/javascripts/bootstrap/modal.js
    - public/javascripts/bootstrap/tabs.js
    - public/javascripts/bootstrap/popover.js
    - public/javascripts/dyn_menu.js
    - public/javascripts/utils.js
    - public/javascripts/fast_autocompleter.js
    - public/javascripts/factory_ui.js
    - public/javascripts/lib/json2.js
    - public/javascripts/custom_validators.js
    - public/javascripts/globalinit.js
    - public/javascripts/fjax.js
    - public/javascripts/loader.js
    - public/javascripts/application.js
    - public/javascripts/navsearch.js
    - public/javascripts/report/date.js
    - public/javascripts/freshfone/global.js

  pattern:
    - public/javascripts/pattern/bootstrap-affix.js
    # - public/javascripts/pattern/bootstrap-alert.js
    - public/javascripts/pattern/bootstrap-button.js
    # - public/javascripts/pattern/bootstrap-carousel.js
    # - public/javascripts/pattern/bootstrap-collapse.js
    - public/javascripts/pattern/bootstrap-dropdown.js
    - public/javascripts/pattern/bootstrap-modal.js
    - public/javascripts/pattern/bootstrap-dialog.js
    # - public/javascripts/pattern/bootstrap-scrollspy.js
    - public/javascripts/pattern/bootstrap-transition.js
    - public/javascripts/pattern/bootstrap-tab.js
    #- public/javascripts/pattern/bootstrap-tooltip.js
    # - public/javascripts/pattern/bootstrap-popover.js
    - public/javascripts/jquery.pageslide.js

  timesheet:
    - public/javascripts/timesheet.js

  ticket_details:
    - public/javascripts/app/ticket_details.js

  freshwidget:
    - public/javascripts/freshwidget.js

  widget_config:
    - public/javascripts/freshwidget.js
    - public/javascripts/app/widget_config.js

  html2canvas:
    - public/javascripts/html2canvas.js

  fdwidget:
    - public/javascripts/prototype.js
    - public/javascripts/jquery-1.7.1.min.js
    - public/javascripts/frameworks/plugins/jquery.tmpl.js
    - public/javascripts/frameworks/plugins/jquery.validate.js
    - public/javascripts/lib/nestedtree.js
    - public/javascripts/frameworks/plugins/jquery.livequery.js
    - public/javascripts/portal/multifile.js
    - public/javascripts/frameworks/plugins/jquery.nested_select_tag.js
    - public/javascripts/frameworks/plugins/select2.js
    - public/javascripts/feedback_widget_form.js
    - public/javascripts/utils.js

  custom_widget:
    - public/javascripts/custom_widget.js

  freshfone_ticket_search:
    - public/javascripts/freshfone/plugin/ticket_search.js

  freshfone:
    - public/javascripts/freshfone.js

  freshfone_client:
    - public/javascripts/freshfone/list.js
    - public/javascripts/frameworks/plugins/jquery.popupbox.js
    - public/javascripts/freshfone/components/calls.js
    - public/javascripts/freshfone/components/user_info.js
    - public/javascripts/freshfone/components/connections.js
    - public/javascripts/freshfone/components/notifications.js
    - public/javascripts/freshfone/components/user.js
    - public/javascripts/freshfone/components/widget.js
    - public/javascripts/freshfone/components/timer.js
    - public/javascripts/freshfone/components/socket.js
    - public/javascripts/freshfone/components/end_call_form.js
    - public/javascripts/freshfone/components/components_main.js
    - public/javascripts/freshfone/device.js
    - public/javascripts/freshfone/client.js
    - public/javascripts/freshfone/dialpad.js
    - public/javascripts/freshfone/phoneformatutil.js

  freshfone_call_history:
    - public/javascripts/freshfone/call_history.js

  freshfone_settings:
    - public/javascripts/freshfone/message_selector.js
    - public/javascripts/freshfone/settings/settings.js

  freshfone_ivr:
    - public/javascripts/freshfone/ivr/ivr.js
    - public/javascripts/freshfone/ivr/menu.js
    - public/javascripts/freshfone/ivr/option.js
    - public/javascripts/freshfone/ivr/ivr_main.js
    - public/javascripts/frameworks/plugins/jquery.form.js

  soundmanager:
    - public/javascripts/sound/soundmanager2-jsmin.js

  360player:
    - public/javascripts/soundmanager2/berniecode-animator.js
    - public/javascripts/soundmanager2/360player.js
    - public/javascripts/freshfone/soundmanager_config.js

  portal_head:
    - public/javascripts/prototype.js
    - public/javascripts/portal/jquery-1.8.3.js
    - public/javascripts/modernizr-2.5.3-respond-1.1.0.min.js
    - public/javascripts/portal/portal-utils.js
    - public/javascripts/lib/nestedtree.js
    - public/javascripts/frameworks/plugins/jquery.nested_select_tag.js

  preview:
    - public/javascripts/portal/jquery-1.8.3.js
    - public/javascripts/modernizr-2.5.3-respond-1.1.0.min.js
    - public/javascripts/portal/preview.js

  portal_bottom:
    - public/javascripts/frameworks/plugins/jquery.livequery.js
    - public/javascripts/frameworks/plugins/jquery.form.js
    - public/javascripts/frameworks/plugins/jquery.validate.js
    - public/javascripts/frameworks/plugins/jquery.tmpl.js
    - public/javascripts/hackz.js
    - public/javascripts/portal/multifile.js
    - public/javascripts/portal/jquery-ui-1.9.2.custom.js
    - public/javascripts/portal/bootstrap.js
    - public/javascripts/portal/bootstrap.dialog.js
    - public/javascripts/frameworks/plugins/select2.js
    - public/javascripts/portal/jail.js
    - public/javascripts/moment/*
    - public/javascripts/portal/portal.js
    - public/javascripts/portal/portal-app-actions.js
    - public/javascripts/portal/portal-compatibility.js

  subscription:
    - public/javascripts/prototype.js
    - public/javascripts/jquery-1.7.1.min.js
    - public/javascripts/bootstrap.js
    - public/javascripts/frameworks/plugins/jquery.livequery.js
    - public/javascripts/frameworks/plugins/jquery.itoggle.js
    - public/javascripts/subscription/subscription_init.js
    - public/javascripts/frameworks/plugins/jquery.ui.js
    - public/javascripts/frameworks/plugins/jquery.ui.timepicker.addon.js
    - public/javascripts/frameworks/plugins/select2.js

  observer_event:
    - public/javascripts/observer_events.js

  conditional:
    - public/javascripts/autosuggest.js
    - public/javascripts/frameworks/plugins/jquery.nestedselect.js
    - public/javascripts/condition-filter.js

  ticket_fields:
    - public/javascripts/frameworks/plugins/jquery.tabby.js
    - public/javascripts/lib/nestedtree.js
    - public/javascripts/frameworks/tf_customizer.js

  survey:
    - public/javascripts/frameworks/jquery.js
    - public/javascripts/frameworks/plugins/jquery.validate.js

  redactor:
    - public/javascripts/redactor/redactor.js
    - public/javascripts/redactor/freshdesk_redactor.js

  excanvas:
    - public/javascripts/excanvas.js

  getting_started:
    - public/javascripts/jquery-1.7.1.min.js
    - public/javascripts/utils.js
    - public/javascripts/fast_autocompleter.js
    - public/javascripts/frameworks/plugins/jquery.livequery.js
    - public/javascripts/frameworks/plugins/jquery.form.js
    - public/javascripts/frameworks/plugins/jquery.validate.js
    - public/javascripts/utils.js
    - public/javascripts/hackz.js
    - public/javascripts/mColorPicker.js
    - public/javascripts/getting_started.js

  reports:
    - public/javascripts/highcharts.src.js
    - public/javascripts/highcharts-more.js
    - public/javascripts/adv_reports/report_charts.js
    - public/javascripts/adv_reports/adv_reports.js

  merge:
    - public/javascripts/app/merge.js
    - public/javascripts/app/merge_tickets.js

<% 
  # Adding specific javascript assets to the package list
  # Add new lang lib to /public/javascripts/lang/{framework name}/es.js etc.
  # The supported language name should be with the corresponding I18n ruby locale key in lowercase
  # When accessing from within a javascript pls. use the lang attr which may be obtained from the HTML tag
  current_dir = File.expand_path(File.dirname(__FILE__))
  i18n_locales = "#{current_dir}/config/locales/*.{rb,yml}"
  locales = []
  Dir[i18n_locales].each do |f|
    if md = f.match(/([\w\-]+)\.(rb|yml)$/)
      file_pattern = "public/javascripts/lang/**/#{md[1].downcase.gsub("-", "?")}.*"
      unless md[1] == "en" || Dir["#{current_dir}/#{file_pattern}"].empty?
        locales << "  lang_#{md[1].downcase}:\n    - #{file_pattern}"
      end
    end
  end
%>
<%= locales.join("\n") %>