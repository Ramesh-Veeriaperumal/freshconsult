package_assets:         off          # (on, off, always)
embed_assets:           off         # (on, off, datauri)
compress_assets:        on          # (on, off)
package_path:           packages    # (defaults to assets)
javascript_compressor:  uglifier
compressor_options:
  :output:
    :comments:          :none
css_compressor:         sass
allow_debugging:        on
template_function:      _.template


stylesheets:

<% @stylesheets_items = {
  :pattern => [ "pattern/pattern" ],
  :common  => [ "common", "pages" ],
  :plugins => [ "plugins" ],
  :app  => [ "app/application", "module" ],
  :non_pattern  => [ "app/app-common"],
  :sprites  => [ "sprites"],
  :ie_hacks  => [ "app/ie"],
  :tour_my_app  => [ "plugins/tourmyapp_initial","plugins/tourmyapp"],
  :codemirror  => [ "plugins/codemirror"],
  :player360  => [ "freshfone/360player"],
  :freshwidget  => [ "freshwidget"],
  :tkt_details  => [ "page/tkt_details/tkt_details","page/tkt_details/tkt_details_sprites"],
  :tkt_details_print  => [ "page/tkt_details/tkt_details_print"],
  :gadget  => [ "common","pages","module","sprites","app/app-common","app/app-bootstrap","plugins","app/ie","page/tkt_details/tkt_details","page/tkt_details/tkt_details_sprites","page/gadget"],
  :google_signup  => [ "common","page/google-signup"],
  :reports  => [ "page/reports"],
  :print  => [ "print/print"],
  :report_print  => [ "print/report-print"],
  :portal_print  => [ "print/support"],
  :getting_started  => [ "page/getting_started"],
  :subscription  => [ "subscription/subscription","plugins"],
  :portal_utils  => [ "portal/portal_utils","freshfone/record_playback","freshfone/360player"],
  :preview  => [ "portal/preview"],
  :community  => [ "page/community/community"],
  :widget  => [ "portal/widget"],
  :responsive_widget  => [ "portal/responsive-widget"],
  :facebook  => [ "portal/facebook"],
  :social  => [ "social/social"],
  :rating  => [ "portal/rating"],
  :freshfone  => [ "freshfone/freshfone","freshfone/jquery.keypad","freshfone/call_history","ui.daterangepicker"],
  :freshfone_ivr  => [ "freshfone/ivr/main"],
  :freshfone_settings  => [ "freshfone/settings/main"],
  :freshfone_admin  => [ "freshfone/admin"],
  :freshfone_message_select  => [ "freshfone/message_select"],
  :freshfone_recording_playback  => [ "freshfone/record_playback"],
  :freshchat_admin  => [ "chat/admin","chat/visitor"],
  :livechat_mini_dashboard  => [ "chat/mini-dashboard"],
  :ui_daterangepicker => ["ui.daterangepicker"],
  :remote_configurations  => [ "page/remote-configurations"],
  :cti => ["cti/cti"]
} %>

<%  @stylesheets_list = []

    def dir_check dir, prefix
      (dir === "") ? "" : prefix
    end

    @stylesheets_items.each_pair do |key, pair|
      ["", "rtl"].each do |dir|
        @stylesheets_list << "  #{key}#{dir_check(dir, "_")}#{dir}:"
        pair.each do |item|
          @stylesheets_list << "    - public/stylesheets/#{dir}#{dir_check(dir, "/")}#{item}.css"
        end
      end
    end
%>

<%= @stylesheets_list.join("\n") %>

javascripts:
  defaults:
    - public/javascripts/prototype.js
    - public/javascripts/effects.js
    - public/javascripts/dragdrop.js
    - public/javascripts/controls.js

  frameworks:
    - public/javascripts/jquery-1.7.2.js
    - public/javascripts/jquery.pjax.js
    - public/javascripts/utils.js
    - public/javascripts/frameworks/sprintf.js
    - public/javascripts/frameworks/plugins/jquery.cookie.js
    - public/javascripts/frameworks/plugins/jquery.form.js
    - public/javascripts/frameworks/plugins/jquery.livequery.js
    - public/javascripts/frameworks/plugins/jquery.noblecount.js
    - public/javascripts/frameworks/plugins/jquery.overlabel.js
    - public/javascripts/frameworks/plugins/jquery.autosize.js
    - public/javascripts/frameworks/plugins/jquery.pageless.js
    - public/javascripts/frameworks/plugins/loadmore.js
    - public/javascripts/frameworks/plugins/jquery.qtip.js
    - public/javascripts/frameworks/plugins/jquery.tweetfeed.js
    - public/javascripts/frameworks/plugins/jquery.tmpl.js
    - public/javascripts/frameworks/plugins/jquery.itoggle.js
    - public/javascripts/frameworks/plugins/jquery.ui.js
    - public/javascripts/frameworks/plugins/jquery.validate.js
    - public/javascripts/frameworks/plugins/jquery.gritter.js
    - public/javascripts/jquery.keypad.js
    - public/javascripts/frameworks/plugins/select2.js
    - public/javascripts/moment/*
    - public/javascripts/frameworks/plugins/jquery.blockUI.js
    - public/javascripts/frameworks/underscore-min.js
    - public/javascripts/hackz.js
    - public/javascripts/lib/nestedtree.js
    - public/javascripts/helpdesk/multifile.js
    - public/javascripts/frameworks/plugins/jquery.nested_select_tag.js
    - public/javascripts/frameworks/socket.io-1.2.1.js
    - public/javascripts/frameworks/faye.js
    - public/javascripts/frameworks/socket.io-agent.js
    - public/javascripts/helpdesk/socket_agent.js
    - public/javascripts/helpdesk/freshdesk_node.js
    - app/views/helpdesk/tickets/show/agent_collision.jst
    # - public/javascripts/sisyphus.js
    - public/javascripts/ticket_list.js
    - public/javascripts/AsyncJSLoader.js
    - public/javascripts/lib/detectmobilebrowsers.js
    - public/javascripts/frameworks/plugins/jquery.ui.timepicker.addon.js
    - public/javascripts/app/ticket_details.js
    - public/javascripts/frameworks/plugins/jquery.tabby.js
    - public/javascripts/base64.js
    - public/javascripts/frameworks/plugins/nprogress.js
    - public/javascripts/frameworks/plugins/jquery.unveil.js
    - public/javascripts/lookup.js
    - public/javascripts/base64.js
    - public/javascripts/frameworks/plugins/daterangepicker.js
    - public/javascripts/frameworks/plugins/menuselector.js
    - public/javascripts/frameworks/plugins/jquery.autosuggester.js

  # Code editor for portal cms
  codemirror:
    - public/javascripts/codemirror/codemirror.js
    - public/javascripts/codemirror/jquery.codemirror.js
    - public/javascripts/codemirror/mode-css.js
    - public/javascripts/codemirror/mode-htmlmixed.js
    - public/javascripts/codemirror/mode-javascript.js
    - public/javascripts/codemirror/mode-liquid-mode.js
    - public/javascripts/codemirror/mode-xml.js
    - public/javascripts/codemirror/util-match-highlighter.js
    - public/javascripts/codemirror/util-overlay.js
    - public/javascripts/codemirror/util-dialog.js
    - public/javascripts/codemirror/util-search.js
    - public/javascripts/codemirror/util-searchcursor.js

  colorpicker:
    - public/javascripts/mColorPicker.js

  visitor:
    - public/javascripts/frameworks/session.js

  workspace:
    - public/javascripts/bootstrap/twipsy.js
    - public/javascripts/pattern/spin.js
    - public/javascripts/pattern/jquery.spin.js
    - public/javascripts/app/loading-init.js
    # - public/javascripts/bootstrap/modal.js
    - public/javascripts/bootstrap/tabs.js
    - public/javascripts/bootstrap/popover.js
    - public/javascripts/dyn_menu.js
    - public/javascripts/fast_autocompleter.js
    - public/javascripts/factory_ui.js
    - public/javascripts/lib/json2.js
    - public/javascripts/custom_validators.js
    - public/javascripts/util-dates.js
    - public/javascripts/globalinit.js
    - public/javascripts/app/app.js
    - public/javascripts/security.js
    - public/javascripts/fjax.js
    - public/javascripts/fjax/config.js
    - public/javascripts/fjax/assets.js
    - public/javascripts/fjax/manager.js
    - public/javascripts/application.js
    - public/javascripts/navsearch.js
    - app/views/shared/spotlight_result.jst
    - public/javascripts/report/date.js
    - public/javascripts/freshfone/global.js
    - public/javascripts/app/metrics.js
    - public/javascripts/app/dashboard.js
    - public/javascripts/app/product_notifications.js
    - public/javascripts/app/admin_font_settings.js
    - public/javascripts/app/merge.js
    - public/javascripts/autosave.js

  freshchat:
    - public/javascripts/freshchat/freshchat.js
  
  freshchat_templates:
     # Templates
    - public/javascripts/freshchat/templates/freshchat_archive.jst.ejs
    - public/javascripts/freshchat/templates/freshchat_conversation.jst.ejs
    - public/javascripts/freshchat/templates/freshchat_archive_row.jst.ejs
    - public/javascripts/freshchat/templates/freshchat_visitor_details.jst.ejs
    - public/javascripts/freshchat/dashboard/dashboard_template.jst.ejs

  livechat_mini_dashboard:
    - public/javascripts/freshchat/dashboard/dashboard.js

  freshchat_archive:
    #Library
    - public/javascripts/report/daterangepicker.jQuery.js
    - public/javascripts/freshchat/templates/visitor_list.jst.ejs
    # Views
    - public/javascripts/freshchat/views/archive_view.js
    - public/javascripts/freshchat/views/conversation_view.js
    - public/javascripts/freshchat/views/visitor/visitor_list.js
    # Router
    - public/javascripts/freshchat/router/router.js
    # Main
    - public/javascripts/freshchat/main.js

  freshchatreports:
    - public/javascripts/chat/report.js

  pattern:
    - public/javascripts/pattern/bootstrap-affix.js
    # - public/javascripts/pattern/bootstrap-alert.js
    - public/javascripts/pattern/bootstrap-button.js
    # - public/javascripts/pattern/bootstrap-carousel.js
    # - public/javascripts/pattern/bootstrap-collapse.js
    - public/javascripts/pattern/bootstrap-dropdown.js
    - public/javascripts/pattern/bootstrap-modal.js
    - public/javascripts/pattern/bootstrap-dialog.js
    # - public/javascripts/pattern/bootstrap-scrollspy.js
    - public/javascripts/pattern/bootstrap-transition.js
    - public/javascripts/pattern/bootstrap-tab.js
    #- public/javascripts/pattern/bootstrap-tooltip.js
    #- public/javascripts/pattern/bootstrap-popover.js
    - public/javascripts/jquery.pageslide.js
    - public/javascripts/pattern/sticky.js
    - public/javascripts/pattern/stickyinit.js
    - public/javascripts/pattern/delete-confirm.js

  discussions:
    - public/javascripts/app/discussions/discussions.js
    - public/javascripts/app/discussions/sidebar.js
    - public/javascripts/app/discussions/reorder.js
    - public/javascripts/app/discussions/category.js
    - public/javascripts/app/discussions/topic_list.js
    - public/javascripts/app/discussions/topic.js
    - public/javascripts/app/discussions/moderation.js
    - public/javascripts/app/discussions/merge.js

  gadget:
    - public/javascripts/frameworks/jquery.js
    - public/javascripts/redactor/redactor.js
    - public/javascripts/redactor/freshdesk_redactor.js
    - public/javascripts/prototype.js
    - public/javascripts/lib/nestedtree.js
    - public/javascripts/frameworks/plugins/jquery.nested_select_tag.js

  admin:
    - public/javascripts/app/admin/admin.js
    - public/javascripts/app/admin/portal.js

  search:
    - public/javascripts/app/search.js
    - app/views/search/template/customer.jst
    - app/views/search/template/helpdesk_note.jst
    - app/views/search/template/helpdesk_ticket.jst
    - app/views/search/template/solution_article.jst
    - app/views/search/template/topic.jst
    - app/views/search/template/user.jst

  timesheet:
    - public/javascripts/timesheet.js

  ticket_details:
    - public/javascripts/app/ticket_details.js

  freshwidget:
    - public/javascripts/freshwidget.js

  widget_config:
    - public/javascripts/freshwidget.js
    - public/javascripts/app/widget_config.js

  html2canvas:
    - public/javascripts/html2canvas.js

  placeholder:
    - public/javascripts/placeholder-events.js

  fdwidget:
    - public/javascripts/prototype.js
    - public/javascripts/jquery-1.7.1.min.js
    - public/javascripts/widgetinit.js
    - public/javascripts/utils.js
    - public/javascripts/frameworks/plugins/jquery.tmpl.js
    - public/javascripts/frameworks/plugins/jquery.validate.js
    - public/javascripts/lib/nestedtree.js
    - public/javascripts/frameworks/plugins/jquery.livequery.js
    - public/javascripts/portal/multifile.js
    - public/javascripts/portal/portal_custom_validators.js
    - public/javascripts/frameworks/plugins/jquery.nested_select_tag.js
    - public/javascripts/frameworks/plugins/select2.js
    - public/javascripts/feedback_widget_form.js
    - public/javascripts/security.js

  custom_widget:
    - public/javascripts/custom_widget.js

  freshfone_ticket_search:
    - public/javascripts/freshfone/plugin/ticket_search.js

  freshfone:
    - public/javascripts/freshfone.js

  freshfone_client:
    - public/javascripts/freshfone/list.js
    - public/javascripts/frameworks/plugins/jquery.popupbox.js
    - public/javascripts/freshfone/components/calls.js
    - public/javascripts/freshfone/components/user_info.js
    - public/javascripts/freshfone/components/connections.js
    - public/javascripts/freshfone/components/notifications.js
    - public/javascripts/freshfone/components/desktop_notification.js
    - public/javascripts/freshfone/components/user.js
    - public/javascripts/freshfone/components/widget.js
    - public/javascripts/freshfone/components/timer.js
    - public/javascripts/freshfone/components/socket.js
    - public/javascripts/freshfone/components/end_call_form.js
    - public/javascripts/freshfone/components/components_main.js
    - public/javascripts/freshfone/intlTelInput.js
    - public/javascripts/freshfone/device.js
    - public/javascripts/freshfone/client.js
    - public/javascripts/freshfone/phoneformatutil.js
    - public/javascripts/freshfone/dialpad.js
    - public/javascripts/freshfone/components/call_transfer.js
    - public/javascripts/freshfone/freshfone_logger.js

  freshfone_call_history:
    - public/javascripts/report/daterangepicker.jQuery.js

  freshfonecallhistory:
    - public/javascripts/report/daterangepicker.jQuery.js
    - public/javascripts/freshfone/call_history/call_history.js
    - public/javascripts/freshfone/call_history/call_logs.js
    - public/javascripts/freshfone/call_history/call_block.js
    - public/javascripts/freshfone/call_history/call_filters.js

  freshfone_settings:
    - public/javascripts/freshfone/message_selector.js
    - public/javascripts/freshfone/settings/settings.js

  freshfone_ivr:
    - public/javascripts/freshfone/ivr/ivr.js
    - public/javascripts/freshfone/ivr/menu.js
    - public/javascripts/freshfone/ivr/option.js
    - public/javascripts/freshfone/ivr/ivr_main.js
    - public/javascripts/frameworks/plugins/jquery.form.js

  freshfone_welcome_page:
    - public/javascripts/freshfone/freshfone_admin_welcome_page.js

  freshfonereports:
    - public/javascripts/app/freshfonereports.js
  soundmanager:
    - public/javascripts/sound/soundmanager2-jsmin.js

  360player:
    - public/javascripts/soundmanager2/berniecode-animator.js
    - public/javascripts/soundmanager2/360player.js
    - public/javascripts/freshfone/soundmanager_config.js
    - public/javascripts/freshfone/freshfone_player.js

  portal_head:
    - public/javascripts/prototype.js
    - public/javascripts/effects.js
    - public/javascripts/portal/jquery-1.8.3.js
    - public/javascripts/modernizr-2.5.3-respond-1.1.0.min.js
    - public/javascripts/portal/portal-utils.js
    - public/javascripts/lib/nestedtree.js
    - public/javascripts/frameworks/plugins/jquery.nested_select_tag.js
    - public/javascripts/portal/fresh_suggest.js

  preview:
    - public/javascripts/portal/jquery-1.8.3.js
    - public/javascripts/modernizr-2.5.3-respond-1.1.0.min.js
    - public/javascripts/portal/preview.js

  portal_bottom:
    - public/javascripts/frameworks/plugins/jquery.livequery.js
    - public/javascripts/frameworks/plugins/jquery.form.js
    - public/javascripts/frameworks/plugins/jquery.validate.js
    - public/javascripts/frameworks/plugins/jquery.tmpl.js
    - public/javascripts/hackz.js
    - public/javascripts/portal/multifile.js
    - public/javascripts/portal/jquery-ui-1.9.2.custom.js
    - public/javascripts/portal/bootstrap.js
    - public/javascripts/portal/bootstrap.dialog.js
    - public/javascripts/frameworks/plugins/select2.js
    - public/javascripts/moment/*
    - public/javascripts/security.js
    - public/javascripts/portal/portal.js
    - public/javascripts/portal/profile_avatar.js
    - public/javascripts/portal/portal_custom_validators.js
    - public/javascripts/portal/portal-app-actions.js
    - public/javascripts/portal/portal-compatibility.js
    - public/javascripts/util-dates.js
    - public/javascripts/frameworks/plugins/jquery.unveil.js

  freshfone_portal:
    - public/javascripts/sound/soundmanager2-jsmin.js
    - public/javascripts/soundmanager2/berniecode-animator.js
    - public/javascripts/soundmanager2/360player.js
    - public/javascripts/freshfone/soundmanager_config.js
    - public/javascripts/report/date.js

  subscription:
    - public/javascripts/prototype.js
    - public/javascripts/jquery-1.7.1.min.js
    - public/javascripts/bootstrap.js
    - public/javascripts/frameworks/plugins/jquery.livequery.js
    - public/javascripts/frameworks/plugins/jquery.itoggle.js
    - public/javascripts/frameworks/plugins/jquery.validate.js
    - public/javascripts/subscription/subscription_init.js
    - public/javascripts/frameworks/plugins/jquery.ui.js
    - public/javascripts/frameworks/plugins/jquery.ui.timepicker.addon.js
    - public/javascripts/frameworks/plugins/select2.js
    - public/javascripts/security.js

  plans_and_billing:
    - public/javascripts/app/select_plan.js

  observer_event:
    - public/javascripts/observer_events.js

  conditional:
    - public/javascripts/autosuggest.js
    - public/javascripts/frameworks/plugins/jquery.nestedselect.js
    - public/javascripts/condition-filter.js

  ticket_fields:
    - public/javascripts/frameworks/plugins/jquery.tabby.js
    - public/javascripts/lib/nestedtree.js
    - public/javascripts/frameworks/tf_customizer.js

  contact_fields:
    - public/javascripts/app/admin/contact_fields/cf_customizer.js
    - public/javascripts/app/admin/contact_fields/formfield_props.jst

  company_fields:
    - public/javascripts/app/admin/contact_fields/cf_customizer.js
    - public/javascripts/app/admin/company_fields/formfield_props.jst

  survey:
    - public/javascripts/frameworks/jquery.js
    - public/javascripts/frameworks/plugins/jquery.validate.js

  redactor:
    - public/javascripts/redactor/redactor.js
    - public/javascripts/redactor/freshdesk_redactor.js

  syntaxhighlighter:
    - public/javascripts/syntaxhighlighter/shCore.js
    - public/javascripts/syntaxhighlighter/shBrushCss.js
    - public/javascripts/syntaxhighlighter/shBrushJava.js
    - public/javascripts/syntaxhighlighter/shBrushJScript.js
    - public/javascripts/syntaxhighlighter/shBrushPhp.js
    - public/javascripts/syntaxhighlighter/shBrushRuby.js
    - public/javascripts/syntaxhighlighter/shBrushSass.js
    - public/javascripts/syntaxhighlighter/shBrushSql.js
    - public/javascripts/syntaxhighlighter/shBrushXml.js
    - public/javascripts/syntaxhighlighter/shBrushCpp.js
    - public/javascripts/syntaxhighlighter/shBrushObjC.js
    - public/javascripts/syntaxhighlighter/shBrushCSharp.js
    - public/javascripts/syntaxhighlighter/shBrushPerl.js
    - public/javascripts/syntaxhighlighter/shBrushPlain.js
    - public/javascripts/syntaxhighlighter/shBrushPython.js
    - public/javascripts/syntaxhighlighter/shBrushVb.js

  excanvas:
    - public/javascripts/excanvas.js

  social_tab:
    - public/javascripts/social/stream_manager.js
    - public/javascripts/social/twitter_actions.js

  social_admin:
    - app/views/admin/social/streams/social_tweet.jst

  getting_started:
    - public/javascripts/jquery-1.7.1.min.js
    - public/javascripts/utils.js
    - public/javascripts/fast_autocompleter.js
    - public/javascripts/frameworks/plugins/jquery.livequery.js
    - public/javascripts/frameworks/plugins/jquery.form.js
    - public/javascripts/frameworks/plugins/jquery.validate.js
    - public/javascripts/hackz.js
    - public/javascripts/mColorPicker.js
    - public/javascripts/security.js
    - public/javascripts/getting_started.js

  reports:
    - public/javascripts/highcharts.src.js
    - public/javascripts/highcharts-more.js
    - public/javascripts/adv_reports/report_charts.js
    - public/javascripts/adv_reports/adv_reports.js

  tickets:
    - public/javascripts/app/tickets.js
    - public/javascripts/app/merge_tickets.js

  contacts:
    - public/javascripts/app/contacts.js
    - public/javascripts/app/contact_form.js
    - public/javascripts/app/contacts_merge.js
    - public/javascripts/app/contact_view.js

  companies:
    - public/javascripts/app/companies.js
    - public/javascripts/app/company_view.js

  shortcut:
    - public/javascripts/mousetrap/mousetrap.js
    # - public/javascripts/mousetrap/dictionary.js
    - public/javascripts/mousetrap/global.js
    - public/javascripts/mousetrap/pause.js
    # - public/javascripts/mousetrap/record.js
    - public/javascripts/mousetrap/shortcut.js

  admin_search:
    - public/javascripts/admin/ui_search.js
  mobihelp:
    - public/javascripts/mobihelp.js


  profile_avatar:
    - public/javascripts/profile_avatar.js

  client_logger:
    - public/javascripts/client_logger.js

  remote_configurations:
    - public/javascripts/jquery-1.7.1.min.js
    - public/javascripts/frameworks/plugins/jquery.validate.js

  cti_ticket_search:
    - public/javascripts/cti/plugin/ticket_search.js

  cti_client:
    - public/javascripts/cti/cti_end_call_form.js
    - public/javascripts/frameworks/plugins/jquery.popupbox.js
    - public/javascripts/cti/freshdesk_crm_events.js
    - public/javascripts/cti/popup.js

  czentrix:
    - public/javascripts/cti/czentrix/czentrix_logout.js
    - public/javascripts/cti/czentrix/czentrix_custom.js
    - public/javascripts/cti/czentrix/click2Dial.js
    - public/javascripts/cti/czentrix/czentrix.js

  drishti:
    - public/javascripts/cti/ameyo/click2Dial.js
    - public/javascripts/cti/ameyo/ameyo_logout.js
    - public/javascripts/cti/ameyo/drishti.js

<% 
  # Adding specific javascript assets to the package list
  # Add new lang lib to /public/javascripts/lang/{framework name}/es.js etc.
  # The supported language name should be with the corresponding I18n ruby locale key in lowercase
  # When accessing from within a javascript pls. use the lang attr which may be obtained from the HTML tag
  current_dir = File.expand_path(File.dirname(__FILE__))
  i18n_locales = "#{current_dir}/config/locales/*.{rb,yml}"
  locales = []
  Dir[i18n_locales].each do |f|
    if md = f.match(/([\w\-]+)\.(rb|yml)$/)
      file_pattern = "public/javascripts/lang/**/#{md[1].downcase.gsub("-", "?")}.*"
      unless md[1] == "en" || Dir["#{current_dir}/#{file_pattern}"].empty?
        locales << "  lang_#{md[1].downcase}:\n    - #{file_pattern}"
      end
    end
  end
%>
<%= locales.join("\n") %>
