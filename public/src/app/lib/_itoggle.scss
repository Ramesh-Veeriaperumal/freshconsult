@import "compass/css3/pie";

.toggle-button{
  @include pie;
  text-transform:uppercase;    
  font-size:13px;  
  position:relative;
  margin-left:10px;
  padding:0;
  height:20px;
  color:#fff;
  text-align:center;
  overflow:hidden;
  background: #9d9d9d;
  border:1px solid rgba(0, 0, 0, 0.1); 
  @include background(linear-gradient(top, #777, lighten(#777, 10%)));
  @include box-shadow(rgba(0, 0, 0, 1) 0 1px 1px inset, rgba(0, 0, 0, 0.5) 0 1px 3px inset);
  @include border-radius(14px);
  @include text-shadow(-1px -1px 0 #666);
  @include inline-block;
  font-family:inherit;
  -webkit-mask-image: -webkit-gradient(linear, left top, left bottom, from(rgba(0,0,0,1)), to(rgba(0,0,0,1)));
  .toggle-container, .toggle-handle{
    position:absolute; top:0;
  }  

  &, .on-label{
    @include box-shadow(rgba(0, 0, 0, 0.2) 0 1px 2px inset, rgba(0, 0, 0, 0.3) 0 1px 0 inset, rgba(0, 0, 0, 0.2) 0 1px 3px inset);
  }
  .toggle-container{    
    width:200%;
    height:100%;
    left:-100%;
    overflow:hidden;
    @include clearfix;
    @include border-radius(18px);
    @include transition-property(left);
    /*@include transition-duration(0.1s);    */
  }  
  .toggle-handle{    
    left:50%;    
    span{
      @include inline-block;
      @include pie;
      border:1px solid rgba(0, 0, 0, 0.5); 
      width:18px;
      height:18px;              
      background: #d9d9d9;
      @include background-clip(padding-box);
      @include background(linear-gradient(top, #d9d9d9, #ffffff));
      @include border-radius(12px);
      @include box-shadow(#f2f2f2 0 0 0 1px inset);
      /*@include transition-property(margin);
      @include transition-duration(0.2s);*/
    }
  }   
  &:hover{
    color:#fff;
    border-color:darken(#738076, 20%);
  } 
  &.active{        
    .toggle-container{ left:0; }
    .toggle-handle{ margin-left:-20px; }
    .toggle-handle span{ @include box-shadow(#f2f2f2 0 0 0 1px inset); };
  }
  p{
    visibility: hidden; 
    padding: 0 18px;
  }
  .on-label, .off-label{    
    float:left;
    width:50%;
    height:100%;
    @include pie;
    @include border-radius(16px);
    line-height:0;
    font-weight: 200;
    font-size: 13px;
    span{ display:block; margin-top:10px; font-weight:500; line-height: 0.1em; /* Opera fix */ }
  }  
  .on-label{    
    background-color: #40894c; // Old browsers
    @include filter-gradient(#40894c, #4ea961, vertical); // IE6-9
    @include background(linear-gradient(top, hsla(130,36%,40%,1) 0%,hsla(133,37%,49%,1) 100%));

    span{ padding-right:12px; }
  }
  .off-label span{ padding-left:12px; }
}
