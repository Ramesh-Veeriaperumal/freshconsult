window.CodeMirror=(function(){function x(aU,aQ){var cd={},bt=x.defaults;for(var aH in bt){if(bt.hasOwnProperty(aH)){cd[aH]=(aQ&&aQ.hasOwnProperty(aH)?aQ:bt)[aH]}}var bw=ad("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em");bw.setAttribute("wrap","off");bw.setAttribute("autocorrect","off");bw.setAttribute("autocapitalize","off");var b9=ad("div",[bw],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");var cC=ad("div",null,"CodeMirror-scrollbar-inner");var aT=ad("div",[cC],"CodeMirror-scrollbar");var ay=ad("div"),bq=ad("div",null,null,"position: relative; z-index: -1");var bm=ad("pre","\u00a0","CodeMirror-cursor"),bf=ad("pre","\u00a0","CodeMirror-cursor","visibility: hidden");var aD=ad("div",null,null,"position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden;");var bG=ad("div",[aD,bm,bf,bq,ay],null,"position: relative; z-index: 0");var a6=ad("div",null,"CodeMirror-gutter-text"),aO=ad("div",[a6],"CodeMirror-gutter");var cw=ad("div",[aO,ad("div",[bG],"CodeMirror-lines")],null,"position: relative");var cm=ad("div",[cw],null,"position: relative");var bu=ad("div",[cm],"CodeMirror-scroll");bu.setAttribute("tabIndex","-1");var aL=ad("div",[b9,aT,bu],"CodeMirror"+(cd.lineWrapping?" CodeMirror-wrap":""));if(aU.appendChild){aU.appendChild(aL)}else{aU(aL)}cT();cM();if(w){bw.style.width="0px"}if(!h){bu.draggable=true}bG.style.outline="none";if(cd.tabindex!=null){bw.tabIndex=cd.tabindex}if(cd.autofocus){bN()}if(!cd.gutter&&!cd.lineNumbers){aO.style.display="none"}if(p){b9.style.height="1px",b9.style.position="absolute"}if(g){aT.style.zIndex=-2;aT.style.visibility="hidden"}else{if(I){aT.style.minWidth="18px"}}try{br()}catch(cl){if(cl.message.match(/runtime/i)){cl=new Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")}throw cl}var ck=new C(),aE=new C(),c6;var cr,cP=new k([new an([new e("")])]),cx,cz;b6();var dd={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false};var cy,bB,a8,bI=0,bl,cE=false,cJ=false;var cG,cj,aJ,c4,aX,bp,a0,cQ;var bn=0,c7=0,bY=0,bZ=0;var ci;var bS=cW(0),cU=false,bA=true;var aw={};var bE=false;var cL=null;az(function(){a4(cd.value||"");cG=false})();var bi=new m();v(bu,"mousedown",az(cA));v(bu,"dblclick",az(b8));v(bG,"selectstart",Y);if(!U){v(bu,"contextmenu",ba)}v(bu,"scroll",co);v(aT,"scroll",bO);v(aT,"mousedown",function(){if(cz){setTimeout(bN,0)}});var cn=v(window,"resize",function(){if(aL.parentNode){ct(true)}else{cn()}},true);v(bw,"keyup",az(cB));v(bw,"input",aY);v(bw,"keydown",az(cs));v(bw,"keypress",az(bx));v(bw,"focus",db);v(bw,"blur",aM);function bR(df){if(cd.onDragEvent&&cd.onDragEvent(cp,T(df))){return}A(df)}if(cd.dragDrop){v(bu,"dragstart",aP);v(bu,"dragenter",bR);v(bu,"dragover",bR);v(bu,"drop",az(at))}v(bu,"paste",function(){bN();aY()});v(bw,"paste",aY);v(bw,"cut",az(function(){if(!cd.readOnly){bD("")}}));if(p){v(cm,"mouseup",function(){if(document.activeElement==bw){bw.blur()}bN()})}var cN;try{cN=(document.activeElement==bw)}catch(cl){}if(cN||cd.autofocus){setTimeout(db,20)}else{aM()}function bC(df){return df>=0&&df<cP.size}var cp=aL.CodeMirror={getValue:ce,setValue:az(a4),getSelection:cf,replaceSelection:az(bD),focus:function(){window.focus();bN();db();aY()},setOption:function(dg,dh){var df=cd[dg];cd[dg]=dh;if(dg=="mode"||dg=="indentUnit"){b6()}else{if(dg=="readOnly"&&dh=="nocursor"){aM();bw.blur()}else{if(dg=="readOnly"&&!dh){cS(true)}else{if(dg=="theme"){cT()}else{if(dg=="lineWrapping"&&df!=dh){az(cX)()}else{if(dg=="tabSize"){ct(true)}else{if(dg=="keyMap"){cM()}}}}}}}if(dg=="lineNumbers"||dg=="gutter"||dg=="firstLineNumber"||dg=="theme"||dg=="lineNumberFormatter"){bo();ct(true)}},getOption:function(df){return cd[df]},undo:az(da),redo:az(c0),indentLine:az(function(dg,df){if(typeof df!="string"){if(df==null){df=cd.smartIndent?"smart":"prev"}else{df=df?"add":"subtract"}}if(bC(dg)){bM(dg,df)}}),indentSelection:az(cR),historySize:function(){return{undo:bi.done.length,redo:bi.undone.length}},clearHistory:function(){bi=new m()},setHistory:function(df){bi=new m();bi.done=df.done;bi.undone=df.undone},getHistory:function(){bi.time=0;return{done:bi.done.concat([]),undone:bi.undone.concat([])}},matchBrackets:az(function(){cu(true)}),getTokenAt:az(function(df){df=a1(df);return cW(df.line).getTokenAt(cr,cK(df.line),cd.tabSize,df.ch)}),getStateAfter:function(df){df=cb(df==null?cP.size-1:df);return cK(df+1)},cursorCoords:function(dg,df){if(dg==null){dg=dd.inverted}return this.charCoords(dg?dd.from:dd.to,df)},charCoords:function(dg,df){dg=a1(dg);if(df=="local"){return c8(dg,false)}if(df=="div"){return c8(dg,true)}return av(dg)},coordsChar:function(df){var dg=ap(bG);return bV(df.x-dg.left,df.y-dg.top)},markText:az(bT),setBookmark:a2,findMarksAt:by,setMarker:az(b7),clearMarker:az(aC),setLineClass:az(bv),hideLine:az(function(df){return c1(df,true)}),showLine:az(function(df){return c1(df,false)}),onDeleteLine:function(df,dg){if(typeof df=="number"){if(!bC(df)){return null}df=cW(df)}(df.handlers||(df.handlers=[])).push(dg);return df},lineInfo:a3,getViewport:function(){return{from:c7,to:bY}},addWidget:function(dj,dh,dl,di,dn){dj=c8(a1(dj));var dk=dj.yBot,dg=dj.x;dh.style.position="absolute";cm.appendChild(dh);if(di=="over"){dk=dj.y}else{if(di=="near"){var df=Math.max(bu.offsetHeight,cP.height*b1()),dm=Math.max(cm.clientWidth,bG.clientWidth)-be();if(dj.yBot+dh.offsetHeight>df&&dj.y>dh.offsetHeight){dk=dj.y-dh.offsetHeight}if(dg+dh.offsetWidth>dm){dg=dm-dh.offsetWidth}}}dh.style.top=(dk+cI())+"px";dh.style.left=dh.style.right="";if(dn=="right"){dg=cm.clientWidth-dh.offsetWidth;dh.style.right="0px"}else{if(dn=="left"){dg=0}else{if(dn=="middle"){dg=(cm.clientWidth-dh.offsetWidth)/2}}dh.style.left=(dg+be())+"px"}if(dl){aI(dg,dk,dg+dh.offsetWidth,dk+dh.offsetHeight)}},lineCount:function(){return cP.size},clipPos:a1,getCursor:function(df){if(df==null){df=dd.inverted}return ag(df?dd.from:dd.to)},somethingSelected:function(){return !aj(dd.from,dd.to)},setCursor:az(function(df,dh,dg){if(dh==null&&typeof df.line=="number"){bg(df.line,df.ch,dg)}else{bg(df,dh,dg)}}),setSelection:az(function(dh,dg,df){(df?bL:bJ)(a1(dh),a1(dg||dh))}),getLine:function(df){if(bC(df)){return cW(df).text}},getLineHandle:function(df){if(bC(df)){return cW(df)}},setLine:az(function(df,dg){if(bC(df)){b2(dg,{line:df,ch:0},{line:df,ch:cW(df).text.length})}}),removeLine:az(function(df){if(bC(df)){b2("",{line:df,ch:0},a1({line:df+1,ch:0}))}}),replaceRange:az(b2),getRange:function(dh,dg,df){return c5(a1(dh),a1(dg),df)},triggerOnKeyDown:az(cs),execCommand:function(df){return R[df](cp)},moveH:az(cV),deleteH:az(cD),moveV:az(cO),toggleOverwrite:function(){if(cE){cE=false;bm.className=bm.className.replace(" CodeMirror-overwrite","")}else{cE=true;bm.className+=" CodeMirror-overwrite"}},posFromIndex:function(dg){var dh=0,df;cP.iter(0,cP.size,function(di){var dj=di.text.length+1;if(dj>dg){df=dg;return true}dg-=dj;++dh});return a1({line:dh,ch:df})},indexFromPos:function(dg){if(dg.line<0||dg.ch<0){return 0}var df=dg.ch;cP.iter(0,dg.line,function(dh){df+=dh.text.length+1});return df},scrollTo:function(df,dg){if(df!=null){bu.scrollLeft=df}if(dg!=null){aT.scrollTop=bu.scrollTop=dg}ct([])},getScrollInfo:function(){return{x:bu.scrollLeft,y:aT.scrollTop,height:aT.scrollHeight,width:bu.scrollWidth}},setSize:function(dh,df){function dg(di){di=String(di);return/^\d+$/.test(di)?di+"px":di}if(dh!=null){aL.style.width=dg(dh)}if(df!=null){bu.style.height=dg(df)}cp.refresh()},operation:function(df){return az(df)()},compoundChange:function(df){return b0(df)},refresh:function(){ct(true,null,bI);if(aT.scrollHeight>bI){aT.scrollTop=bI}},getInputField:function(){return bw},getWrapperElement:function(){return aL},getScrollerElement:function(){return bu},getGutterElement:function(){return aO}};function cW(df){return H(cP,df)}function bc(dg,df){a0=true;var dh=df-dg.height;for(var di=dg;di;di=di.parent){di.height+=dh}}function a4(df){var dg={line:0,ch:0};aW(dg,{line:cP.size-1,ch:cW(cP.size-1).text.length},D(df),dg,dg);cG=true}function ce(dg){var df=[];cP.iter(0,cP.size,function(dh){df.push(dh.text)});return df.join(dg||"\n")}function bO(df){if(aT.scrollTop!=bI){bI=bu.scrollTop=aT.scrollTop;ct([])}}function co(df){if(cd.fixedGutter&&aO.style.left!=bu.scrollLeft+"px"){aO.style.left=bu.scrollLeft+"px"}if(bu.scrollTop!=bI){bI=bu.scrollTop;if(aT.scrollTop!=bI){aT.scrollTop=bI}ct([])}if(cd.onScroll){cd.onScroll(cp)}}function cA(ds){bd(y(ds,"shiftKey"));for(var dl=j(ds);dl!=aL;dl=dl.parentNode){if(dl.parentNode==cm&&dl!=cw){return}}for(var dl=j(ds);dl!=aL;dl=dl.parentNode){if(dl.parentNode==a6){if(cd.onGutterClick){cd.onGutterClick(cp,u(a6.childNodes,dl)+c7,ds)}return Y(ds)}}var dg=bb(ds);switch(z(ds)){case 3:if(U){ba(ds)}return;case 2:if(dg){bg(dg.line,dg.ch,true)}setTimeout(bN,20);Y(ds);return}if(!dg){if(j(ds)==bu){Y(ds)}return}if(!cz){db()}var dh=+new Date,dv="single";if(a8&&a8.time>dh-400&&aj(a8.pos,dg)){dv="triple";Y(ds);setTimeout(bN,20);aR(dg.line)}else{if(bB&&bB.time>dh-400&&aj(bB.pos,dg)){dv="double";a8={time:dh,pos:dg};Y(ds);var df=bF(dg);bL(df.from,df.to)}else{bB={time:dh,pos:dg}}}function dm(dx){if(h){bu.draggable=false}bl=false;dr();dk();if(Math.abs(ds.clientX-dx.clientX)+Math.abs(ds.clientY-dx.clientY)<10){Y(dx);bg(dg.line,dg.ch,true);bN()}}var dw=dg,dj;if(cd.dragDrop&&K&&!cd.readOnly&&!aj(dd.from,dd.to)&&!af(dg,dd.from)&&!af(dd.to,dg)&&dv=="single"){if(h){bu.draggable=true}var dr=v(document,"mouseup",az(dm),true);var dk=v(bu,"drop",az(dm),true);bl=true;if(bu.dragDrop){bu.dragDrop()}return}Y(ds);if(dv=="single"){bg(dg.line,dg.ch,true)}var du=dd.from,di=dd.to;function dp(dy){if(dv=="single"){bL(dg,dy)}else{if(dv=="double"){var dx=bF(dy);if(af(dy,du)){bL(dx.from,di)}else{bL(du,dx.to)}}else{if(dv=="triple"){if(af(dy,du)){bL(di,a1({line:dy.line,ch:0}))}else{bL(du,a1({line:dy.line+1,ch:0}))}}}}}function dt(dx){var dz=bb(dx,true);if(dz&&!aj(dz,dw)){if(!cz){db()}dw=dz;dp(dz);cG=false;var dy=bP();if(dz.line>=dy.to||dz.line<dy.from){dj=setTimeout(az(function(){dt(dx)}),150)}}}function dq(dx){clearTimeout(dj);var dy=bb(dx);if(dy){dp(dy)}Y(dx);bN();cG=true;dn();dr()}var dn=v(document,"mousemove",az(function(dx){clearTimeout(dj);Y(dx);if(!O&&!z(dx)){dq(dx)}else{dt(dx)}}),true);var dr=v(document,"mouseup",az(dq),true)}function b8(df){for(var dg=j(df);dg!=aL;dg=dg.parentNode){if(dg.parentNode==a6){return Y(df)}}Y(df)}function at(dj){if(cd.onDragEvent&&cd.onDragEvent(cp,T(dj))){return}Y(dj);var dm=bb(dj,true),dg=dj.dataTransfer.files;if(!dm||cd.readOnly){return}if(dg&&dg.length&&window.FileReader&&window.File){var dl=dg.length,dk=Array(dl),dh=0;var di=function(dq,dp){var dn=new FileReader;dn.onload=function(){dk[dp]=dn.result;if(++dh==dl){dm=a1(dm);az(function(){var dr=b2(dk.join(""),dm,dm);bL(dm,dr)})()}};dn.readAsText(dq)};for(var df=0;df<dl;++df){di(dg[df],df)}}else{if(bl&&!(af(dm,dd.from)||af(dd.to,dm))){return}try{var dk=dj.dataTransfer.getData("Text");if(dk){b0(function(){var dp=dd.from,dn=dd.to;bL(dm,dm);if(bl){b2("",dp,dn)}bD(dk);bN()})}}catch(dj){}}}function aP(dh){var df=cf();dh.dataTransfer.setData("Text",df);if(U||al||Q){var dg=ad("img");dg.scr="data:image/gif;base64,R0lGODdhAgACAIAAAAAAAP///ywAAAAAAgACAAACAoRRADs=";dh.dataTransfer.setDragImage(dg,0,0)}}function bs(dh,df){if(typeof dh=="string"){dh=R[dh];if(!dh){return false}}var dg=cy;try{if(cd.readOnly){cJ=true}if(df){cy=null}dh(cp)}catch(di){if(di!=ah){throw di}return false}finally{cy=dg;cJ=false}return true}var bQ;function c2(dl){var df=c(cd.keyMap),di=df.auto;clearTimeout(bQ);if(di&&!V(dl)){bQ=setTimeout(function(){if(c(cd.keyMap)==df){cd.keyMap=(di.call?di.call(null,cp):di)}},50)}var dg=W[y(dl,"keyCode")],dk=false;if(dg==null||dl.altGraphKey){return false}if(y(dl,"altKey")){dg="Alt-"+dg}if(y(dl,"ctrlKey")){dg="Ctrl-"+dg}if(y(dl,"metaKey")){dg="Cmd-"+dg}var dj=false;function dh(){dj=true}if(y(dl,"shiftKey")){dk=n("Shift-"+dg,cd.extraKeys,cd.keyMap,function(dm){return bs(dm,true)},dh)||n(dg,cd.extraKeys,cd.keyMap,function(dm){if(typeof dm=="string"&&/^go[A-Z]/.test(dm)){return bs(dm)}},dh)}else{dk=n(dg,cd.extraKeys,cd.keyMap,bs,dh)}if(dj){dk=false}if(dk){Y(dl);c3();if(O){dl.oldKeyCode=dl.keyCode;dl.keyCode=0}}return dk}function ca(dh,df){var dg=n("'"+df+"'",cd.extraKeys,cd.keyMap,function(di){return bs(di,true)});if(dg){Y(dh);c3()}return dg}var cZ=null;function cs(dh){if(!cz){db()}if(O&&dh.keyCode==27){dh.returnValue=false}if(bE){if(bX()){bE=false}}if(cd.onKeyEvent&&cd.onKeyEvent(cp,T(dh))){return}var df=y(dh,"keyCode");bd(df==16||y(dh,"shiftKey"));var dg=c2(dh);if(Q){cZ=dg?df:null;if(!dg&&df==88&&y(dh,S?"metaKey":"ctrlKey")){bD("")}}}function bx(di){if(bE){bX()}if(cd.onKeyEvent&&cd.onKeyEvent(cp,T(di))){return}var dh=y(di,"keyCode"),df=y(di,"charCode");if(Q&&dh==cZ){cZ=null;Y(di);return}if(((Q&&(!di.which||di.which<10))||p)&&c2(di)){return}var dg=String.fromCharCode(df==null?dh:df);if(cd.electricChars&&cr.electricChars&&cd.smartIndent&&!cd.readOnly){if(cr.electricChars.indexOf(dg)>-1){setTimeout(az(function(){bM(dd.to.line,"smart")}),75)}}if(ca(di,dg)){return}aY()}function cB(df){if(cd.onKeyEvent&&cd.onKeyEvent(cp,T(df))){return}if(y(df,"keyCode")==16){cy=null}}function db(){if(cd.readOnly=="nocursor"){return}if(!cz){if(cd.onFocus){cd.onFocus(cp)}cz=true;if(bu.className.search(/\bCodeMirror-focused\b/)==-1){bu.className+=" CodeMirror-focused"}if(!bp){cS(true)}}ar();c3()}function aM(){if(cz){if(cd.onBlur){cd.onBlur(cp)}cz=false;if(ci){az(function(){if(ci){ci();ci=null}})()}bu.className=bu.className.replace(" CodeMirror-focused","")}clearInterval(c6);setTimeout(function(){if(!cz){cy=null}},150)}function aW(dk,dj,di,dg,df){if(cJ){return}if(bi){var dh=[];cP.iter(dk.line,dj.line+1,function(dl){dh.push(dl.text)});bi.addChange(dk.line,di.length,dh);while(bi.done.length>cd.undoDepth){bi.done.shift()}}aA(dk,dj,di,dg,df)}function cq(dk,dl){if(!dk.length){return}var dm=dk.pop(),dg=[];for(var dh=dm.length-1;dh>=0;dh-=1){var dj=dm[dh];var dn=[],df=dj.start+dj.added;cP.iter(dj.start,df,function(dp){dn.push(dp.text)});dg.push({start:dj.start,added:dj.old.length,old:dn});var di={line:dj.start+dj.old.length-1,ch:ab(dn[dn.length-1],dj.old[dj.old.length-1])};aA({line:dj.start,ch:0},{line:df-1,ch:cW(df-1).text.length},dj.old,di,di)}cG=true;dl.push(dg)}function da(){cq(bi.done,bi.undone)}function c0(){cq(bi.undone,bi.done)}function aA(dv,dj,dB,df,dC){if(cJ){return}var dA=false,di=bS.text.length;if(!cd.lineWrapping){cP.iter(dv.line,dj.line+1,function(dD){if(!dD.hidden&&dD.text.length==di){dA=true;return true}})}if(dv.line!=dj.line||dB.length>1){a0=true}var ds=dj.line-dv.line,dr=cW(dv.line),dg=cW(dj.line);if(dv.ch==0&&dj.ch==0&&dB[dB.length-1]==""){var dp=[],dq=null;if(dv.line){dq=cW(dv.line-1);dq.fixMarkEnds(dg)}else{dg.fixMarkStarts()}for(var dx=0,dz=dB.length-1;dx<dz;++dx){dp.push(e.inheritMarks(dB[dx],dq))}if(ds){cP.remove(dv.line,ds,cQ)}if(dp.length){cP.insert(dv.line,dp)}}else{if(dr==dg){if(dB.length==1){dr.replace(dv.ch,dj.ch,dB[0])}else{dg=dr.split(dj.ch,dB[dB.length-1]);dr.replace(dv.ch,null,dB[0]);dr.fixMarkEnds(dg);var dp=[];for(var dx=1,dz=dB.length-1;dx<dz;++dx){dp.push(e.inheritMarks(dB[dx],dr))}dp.push(dg);cP.insert(dv.line+1,dp)}}else{if(dB.length==1){dr.replace(dv.ch,null,dB[0]);dg.replace(null,dj.ch,"");dr.append(dg);cP.remove(dv.line+1,ds,cQ)}else{var dp=[];dr.replace(dv.ch,null,dB[0]);dg.replace(null,dj.ch,dB[dB.length-1]);dr.fixMarkEnds(dg);for(var dx=1,dz=dB.length-1;dx<dz;++dx){dp.push(e.inheritMarks(dB[dx],dr))}if(ds>1){cP.remove(dv.line+1,ds-1,cQ)}cP.insert(dv.line+1,dp)}}}if(cd.lineWrapping){var dl=Math.max(5,bu.clientWidth/br()-3);cP.iter(dv.line,dv.line+dB.length,function(dD){if(dD.hidden){return}var dE=Math.ceil(dD.text.length/dl)||1;if(dE!=dD.height){bc(dD,dE)}})}else{cP.iter(dv.line,dv.line+dB.length,function(dE){var dD=dE.text;if(!dE.hidden&&dD.length>di){bS=dE;di=dD.length;bA=true;dA=false}});if(dA){cU=true}}var dh=[],dn=dB.length-ds-1;for(var dx=0,du=cx.length;dx<du;++dx){var dy=cx[dx];if(dy<dv.line){dh.push(dy)}else{if(dy>dj.line){dh.push(dy+dn)}}}var dw=dv.line+Math.min(dB.length,500);cY(dv.line,dw);dh.push(dw);cx=dh;bU(100);aJ.push({from:dv.line,to:dj.line+1,diff:dn});var dm={from:dv,to:dj,text:dB};if(c4){for(var dk=c4;dk.next;dk=dk.next){}dk.next=dm}else{c4=dm}function dt(dD){return dD<=Math.min(dj.line,dj.line+dn)?dD:dD+dn}bJ(a1(df),a1(dC),dt(dd.from.line),dt(dd.to.line))}function ax(){var df=cP.height*b1()+2*cI();return df*0.99>bu.offsetHeight?df:false}function aB(dg){var df=ax();aT.style.display=df?"block":"none";if(df){cC.style.height=cm.style.minHeight=df+"px";aT.style.height=bu.clientHeight+"px";if(dg!=null){aT.scrollTop=bu.scrollTop=dg;if(h){setTimeout(function(){if(aT.scrollTop!=dg){return}aT.scrollTop=dg+(dg?-1:1);aT.scrollTop=dg},0)}}}else{cm.style.minHeight=""}cw.style.top=bn*b1()+"px"}function bK(){bS=cW(0);bA=true;var df=bS.text.length;cP.iter(1,cP.size,function(dh){var dg=dh.text;if(!dh.hidden&&dg.length>df){df=dg.length;bS=dh}});cU=false}function b2(dg,dj,di){dj=a1(dj);if(!di){di=dj}else{di=a1(di)}dg=D(dg);function dh(dm){if(af(dm,dj)){return dm}if(!af(di,dm)){return df}var dk=dm.line+dg.length-(di.line-dj.line)-1;var dl=dm.ch;if(dm.line==di.line){dl+=dg[dg.length-1].length-(di.ch-(di.line==dj.line?dj.ch:0))}return{line:dk,ch:dl}}var df;aK(dg,dj,di,function(dk){df=dk;return{from:dh(dd.from),to:dh(dd.to)}});return df}function bD(df,dg){aK(D(df),dd.from,dd.to,function(dh){if(dg=="end"){return{from:dh,to:dh}}else{if(dg=="start"){return{from:dd.from,to:dd.from}}else{return{from:dd.from,to:dh}}}})}function aK(di,dk,dj,df){var dh=di.length==1?di[0].length+dk.ch:di[di.length-1].length;var dg=df({line:dk.line+di.length-1,ch:dh});aW(dk,dj,di,dg.from,dg.to)}function c5(dk,dj,di){var dg=dk.line,df=dj.line;if(dg==df){return cW(dg).text.slice(dk.ch,dj.ch)}var dh=[cW(dg).text.slice(dk.ch)];cP.iter(dg+1,df,function(dl){dh.push(dl.text)});dh.push(cW(df).text.slice(0,dj.ch));return dh.join(di||"\n")}function cf(df){return c5(dd.from,dd.to,df)}function ar(){if(bE){return}ck.set(cd.pollInterval,function(){aV();bX();if(cz){ar()}aG()})}function aY(){var df=false;bE=true;function dg(){aV();var dh=bX();if(!dh&&!df){df=true;ck.set(60,dg)}else{bE=false;ar()}aG()}ck.set(20,dg)}var bk="";function bX(){if(bp||!cz||ak(bw)||cd.readOnly){return false}var dg=bw.value;if(dg==bk){return false}cy=null;var dh=0,df=Math.min(bk.length,dg.length);while(dh<df&&bk[dh]==dg[dh]){++dh}if(dh<bk.length){dd.from={line:dd.from.line,ch:dd.from.ch-(bk.length-dh)}}else{if(cE&&aj(dd.from,dd.to)){dd.to={line:dd.to.line,ch:Math.min(cW(dd.to.line).text.length,dd.to.ch+(dg.length-dh))}}}bD(dg.slice(dh),"end");if(dg.length>1000){bw.value=bk=""}else{bk=dg}return true}function cS(df){if(!aj(dd.from,dd.to)){bk="";bw.value=cf();if(cz){a(bw)}}else{if(df){bk=bw.value=""}}}function bN(){if(cd.readOnly!="nocursor"){bw.focus()}}function cv(){var di=b3();aI(di.x,di.y,di.x,di.yBot);if(!cz){return}var dg=cm.getBoundingClientRect(),df=null;if(di.y+dg.top<0){df=true}else{if(di.y+dg.top+b1()>(window.innerHeight||document.documentElement.clientHeight)){df=false}}if(df!=null){var dh=bm.style.display=="none";if(dh){bm.style.display="";bm.style.left=di.x+"px";bm.style.top=(di.y-bn)+"px"}bm.scrollIntoView(df);if(dh){bm.style.display="none"}}}function b3(){var dg=c8(dd.inverted?dd.from:dd.to);var df=cd.lineWrapping?Math.min(dg.x,bG.offsetWidth):dg.x;return{x:df,y:dg.y,yBot:dg.yBot}}function aI(dg,di,df,dh){var dj=a7(dg,di,df,dh);if(dj.scrollLeft!=null){bu.scrollLeft=dj.scrollLeft}if(dj.scrollTop!=null){aT.scrollTop=bu.scrollTop=dj.scrollTop}}function a7(di,dq,dg,dp){var dl=be(),dv=cI();dq+=dv;dp+=dv;di+=dl;dg+=dl;var ds=bu.clientHeight,dj=aT.scrollTop,du={};var dh=ax()||Infinity;var df=dq<dv+10,dn=dp+dv>dh-10;if(dq<dj){du.scrollTop=df?0:Math.max(0,dq)}else{if(dp>dj+ds){du.scrollTop=(dn?dh:dp)-ds}}var dr=bu.clientWidth,dt=bu.scrollLeft;var dm=cd.fixedGutter?aO.clientWidth:0;var dk=di<dm+dl+10;if(di<dt+dm||dk){if(dk){di=0}du.scrollLeft=Math.max(0,di-10-dm)}else{if(dg>dr+dt-3){du.scrollLeft=dg+10-dr}}return du}function bP(dj){var df=b1(),di=(dj!=null?dj:aT.scrollTop)-cI();var dh=Math.max(0,Math.floor(di/df));var dg=Math.ceil((di+bu.clientHeight)/df);return{from:ac(cP,dh),to:ac(cP,dg)}}function ct(dp,dk,di){if(!bu.clientWidth){c7=bY=bn=0;return}var dj=bP(di);if(dp!==true&&dp.length==0&&dj.from>c7&&dj.to<bY){aB(di);return}var dq=Math.max(dj.from-100,0),dr=Math.min(cP.size,dj.to+100);if(c7<dq&&dq-c7<20){dq=c7}if(bY>dr&&bY-dr<20){dr=Math.min(cP.size,bY)}var dt=dp===true?[]:cc([{from:c7,to:bY,domStart:0}],dp);var dn=0;for(var dl=0;dl<dt.length;++dl){var dm=dt[dl];if(dm.from<dq){dm.domStart+=(dq-dm.from);dm.from=dq}if(dm.to>dr){dm.to=dr}if(dm.from>=dm.to){dt.splice(dl--,1)}else{dn+=dm.to-dm.from}}if(dn==dr-dq&&dq==c7&&dr==bY){aB(di);return}dt.sort(function(dv,du){return dv.domStart-du.domStart});var dh=b1(),df=aO.style.display;ay.style.display="none";aZ(dq,dr,dt);ay.style.display=aO.style.display="";var dg=dq!=c7||dr!=bY||bZ!=bu.clientHeight+dh;if(dg){bZ=bu.clientHeight+dh}if(dq!=c7||dr!=bY&&cd.onViewportChange){setTimeout(function(){if(cd.onViewportChange){cd.onViewportChange(cp,dq,dr)}})}c7=dq;bY=dr;bn=f(cP,dq);if(ay.childNodes.length!=bY-c7){throw new Error("BAD PATCH! "+JSON.stringify(dt)+" size="+(bY-c7)+" nodes="+ay.childNodes.length)}function ds(){var dv=ay.firstChild,du=false;cP.iter(c7,bY,function(dx){if(!dv){return}if(!dx.hidden){var dw=Math.round(dv.offsetHeight/dh)||1;if(dx.height!=dw){bc(dx,dw);a0=du=true}}dv=dv.nextSibling});return du}if(cd.lineWrapping){ds()}aO.style.display=df;if(dg||a0){aS()&&cd.lineWrapping&&ds()&&aS()}aB(di);dc();if(!dk&&cd.onUpdate){cd.onUpdate(cp)}return true}function cc(dp,dm){for(var dj=0,dh=dm.length||0;dj<dh;++dj){var dl=dm[dj],df=[],dn=dl.diff||0;for(var di=0,dg=dp.length;di<dg;++di){var dk=dp[di];if(dl.to<=dk.from&&dl.diff){df.push({from:dk.from+dn,to:dk.to+dn,domStart:dk.domStart})}else{if(dl.to<=dk.from||dl.from>=dk.to){df.push(dk)}else{if(dl.from>dk.from){df.push({from:dk.from,to:dl.from,domStart:dk.domStart})}if(dl.to<dk.to){df.push({from:dl.to+dn,to:dk.to+dn,domStart:dk.domStart+(dl.to-dk.from)})}}}}dp=df}return dp}function aZ(dn,dp,dr){function df(dt){var ds=dt.nextSibling;dt.parentNode.removeChild(dt);return ds}if(!dr.length){E(ay)}else{var dj=0,dh=ay.firstChild,dg;for(var dk=0;dk<dr.length;++dk){var dq=dr[dk];while(dq.domStart>dj){dh=df(dh);dj++}for(var di=0,dm=dq.to-dq.from;di<dm;++di){dh=dh.nextSibling;dj++}}while(dh){dh=df(dh)}}var dl=dr.shift(),dh=ay.firstChild,di=dn;cP.iter(dn,dp,function(ds){if(dl&&dl.to==di){dl=dr.shift()}if(!dl||dl.from>di){if(ds.hidden){var dt=ad("pre")}else{var dt=ds.getElement(bj);if(ds.className){dt.className=ds.className}if(ds.bgClassName){var du=ad("pre","\u00a0",ds.bgClassName,"position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2");dt=ad("div",[du,dt],null,"position: relative")}}ay.insertBefore(dt,dh)}else{dh=dh.nextSibling}++di})}function aS(){if(!cd.gutter&&!cd.lineNumbers){return}var dg=cw.offsetHeight,dp=bu.clientHeight;aO.style.height=(dg-dp<2?dp:dg)+"px";var dm=document.createDocumentFragment(),dk=c7,dn;cP.iter(c7,Math.max(bY,c7+1),function(dr){if(dr.hidden){dm.appendChild(ad("pre"))}else{var dq=dr.gutterMarker;var du=cd.lineNumbers?cd.lineNumberFormatter(dk+cd.firstLineNumber):null;if(dq&&dq.text){du=dq.text.replace("%N%",du!=null?du:"")}else{if(du==null){du="\u00a0"}}var dt=dm.appendChild(ad("pre",null,dq&&dq.style));dt.innerHTML=du;for(var ds=1;ds<dr.height;++ds){dt.appendChild(ad("br"));dt.appendChild(document.createTextNode("\u00a0"))}if(!dq){dn=dk}}++dk});aO.style.display="none";q(a6,dm);if(dn!=null&&cd.lineNumbers){var di=a6.childNodes[dn-c7];var dj=String(cP.size).length,df=M(di.firstChild),dh="";while(df.length+dh.length<dj){dh+="\u00a0"}if(dh){di.insertBefore(document.createTextNode(dh),di.firstChild)}}aO.style.display="";var dl=Math.abs((parseInt(bG.style.marginLeft)||0)-aO.offsetWidth)>2;bG.style.marginLeft=aO.offsetWidth+"px";a0=false;return dl}function dc(){var di=aj(dd.from,dd.to);var du=c8(dd.from,true);var dp=di?du:c8(dd.to,true);var dm=dd.inverted?du:dp,dg=b1();var df=ap(aL),dh=ap(ay);b9.style.top=Math.max(0,Math.min(bu.offsetHeight,dm.y+dh.top-df.top))+"px";b9.style.left=Math.max(0,Math.min(bu.offsetWidth,dm.x+dh.left-df.left))+"px";if(di){bm.style.top=dm.y+"px";bm.style.left=(cd.lineWrapping?Math.min(dm.x,bG.offsetWidth):dm.x)+"px";bm.style.display="";bq.style.display="none"}else{var ds=du.y==dp.y,dl=document.createDocumentFragment();var dq=bG.clientWidth||bG.offsetWidth;var dk=bG.clientHeight||bG.offsetHeight;var dt=function(dz,dy,dx,dv){var dw=J?"width: "+(!dx?dq:dq-dx-dz)+"px":"right: "+dx+"px";dl.appendChild(ad("div",null,"CodeMirror-selected","position: absolute; left: "+dz+"px; top: "+dy+"px; "+dw+"; height: "+dv+"px"))};if(dd.from.ch&&du.y>=0){var dr=ds?dq-dp.x:0;dt(du.x,du.y,dr,dg)}var dj=Math.max(0,du.y+(dd.from.ch?dg:0));var dn=Math.min(dp.y,dk)-dj;if(dn>0.2*dg){dt(0,dj,0,dn)}if((!ds||!dd.from.ch)&&dp.y<dk-0.5*dg){dt(0,dp.y,dq-dp.x,dg)}q(bq,dl);bm.style.display="none";bq.style.display=""}}function bd(df){if(df){cy=cy||(dd.inverted?dd.to:dd.from)}else{cy=null}}function bL(dh,dg){var df=cy&&a1(cy);if(df){if(af(df,dh)){dh=df}else{if(af(dg,df)){dg=df}}}bJ(dh,dg);cj=true}function bJ(dm,dl,df,dk){cL=null;if(df==null){df=dd.from.line;dk=dd.to.line}if(aj(dd.from,dm)&&aj(dd.to,dl)){return}if(af(dl,dm)){var di=dl;dl=dm;dm=di}if(dm.line!=df){var dj=b4(dm,df,dd.from.ch);if(!dj){c1(dm.line,false)}else{dm=dj}}if(dl.line!=dk){dl=b4(dl,dk,dd.to.ch)}if(aj(dm,dl)){dd.inverted=false}else{if(aj(dm,dd.to)){dd.inverted=false}else{if(aj(dl,dd.from)){dd.inverted=true}}}if(cd.autoClearEmptyLines&&aj(dd.from,dd.to)){var dh=dd.inverted?dm:dl;if(dh.line!=dd.from.line&&dd.from.line<cP.size){var dg=cW(dd.from.line);if(/^\s+$/.test(dg.text)){setTimeout(az(function(){if(dg.parent&&/^\s+$/.test(dg.text)){var dn=ae(dg);b2("",{line:dn,ch:0},{line:dn,ch:dg.text.length})}},10))}}}dd.from=dm;dd.to=dl;aX=true}function b4(dk,dg,dh){function dj(dn){var dq=dk.line+dn,dm=dn==1?cP.size:-1;while(dq!=dm){var dl=cW(dq);if(!dl.hidden){var dp=dk.ch;if(di||dp>dh||dp>dl.text.length){dp=dl.text.length}return{line:dq,ch:dp}}dq+=dn}}var df=cW(dk.line);var di=dk.ch==df.text.length&&dk.ch!=dh;if(!df.hidden){return dk}if(dk.line>=dg){return dj(1)||dj(-1)}else{return dj(-1)||dj(1)}}function bg(df,dh,dg){var di=a1({line:df,ch:dh||0});(dg?bL:bJ)(di,di)}function cb(df){return Math.max(0,Math.min(df,cP.size-1))}function a1(dh){if(dh.line<0){return{line:0,ch:0}}if(dh.line>=cP.size){return{line:cP.size-1,ch:cW(cP.size-1).text.length}}var df=dh.ch,dg=cW(dh.line).text.length;if(df==null||df>dg){return{line:dh.line,ch:dg}}else{if(df<0){return{line:dh.line,ch:0}}else{return dh}}}function cF(di,dm){var dj=dd.inverted?dd.from:dd.to,dn=dj.line,df=dj.ch;var dl=cW(dn);function dg(){for(var dp=dn+di,dr=di<0?-1:cP.size;dp!=dr;dp+=di){var dq=cW(dp);if(!dq.hidden){dn=dp;dl=dq;return true}}}function dk(dp){if(df==(di<0?0:dl.text.length)){if(!dp&&dg()){df=di<0?dl.text.length:0}else{return false}}else{df+=di}return true}if(dm=="char"){dk()}else{if(dm=="column"){dk(true)}else{if(dm=="word"){var dh=false;for(;;){if(di<0){if(!dk()){break}}if(am(dl.text.charAt(df))){dh=true}else{if(dh){if(di<0){di=1;dk()}break}}if(di>0){if(!dk()){break}}}}}}return{line:dn,ch:df}}function cV(df,dg){var dh=df<0?dd.from:dd.to;if(cy||aj(dd.from,dd.to)){dh=cF(df,dg)}bg(dh.line,dh.ch,true)}function cD(df,dg){if(!aj(dd.from,dd.to)){b2("",dd.from,dd.to)}else{if(df<0){b2("",cF(df,dg),dd.to)}else{b2("",dd.from,cF(df,dg))}}cj=true}function cO(dg,di){var dk=0,dl=c8(dd.inverted?dd.from:dd.to,true);if(cL!=null){dl.x=cL}if(di=="page"){var df=Math.min(bu.clientHeight,window.innerHeight||document.documentElement.clientHeight);var dj=bV(dl.x,dl.y+df*dg)}else{if(di=="line"){var dh=b1();var dj=bV(dl.x,dl.y+0.5*dh+dg*dh)}}if(di=="page"){aT.scrollTop+=c8(dj,true).y-dl.y}bg(dj.line,dj.ch,true);cL=dl.x}function bF(dk){var di=cW(dk.line).text;var dj=dk.ch,dh=dk.ch;if(di){if(dk.after===false||dh==di.length){--dj}else{++dh}var dg=di.charAt(dj);var df=am(dg)?am:/\s/.test(dg)?function(dl){return/\s/.test(dl)}:function(dl){return !/\s/.test(dl)&&!am(dl)};while(dj>0&&df(di.charAt(dj-1))){--dj}while(dh<di.length&&df(di.charAt(dh))){++dh}}return{from:{line:dk.line,ch:dj},to:{line:dk.line,ch:dh}}}function aR(df){bL({line:df,ch:0},a1({line:df+1,ch:0}))}function cR(dh){if(aj(dd.from,dd.to)){return bM(dd.from.line,dh)}var dg=dd.to.line-(dd.to.ch?0:1);for(var df=dd.from.line;df<=dg;++df){bM(df,dh)}}function bM(dh,dp){if(!dp){dp="add"}if(dp=="smart"){if(!cr.indent){dp="prev"}else{var df=cK(dh)}}var dq=cW(dh),dj=dq.indentation(cd.tabSize),dg=dq.text.match(/^\s*/)[0],dl;if(dp=="smart"){dl=cr.indent(df,dq.text.slice(dg.length),dq.text);if(dl==ah){dp="prev"}}if(dp=="prev"){if(dh){dl=cW(dh-1).indentation(cd.tabSize)}else{dl=0}}else{if(dp=="add"){dl=dj+cd.indentUnit}else{if(dp=="subtract"){dl=dj-cd.indentUnit}}}dl=Math.max(0,dl);var dn=dl-dj;var dm="",dk=0;if(cd.indentWithTabs){for(var di=Math.floor(dl/cd.tabSize);di;--di){dk+=cd.tabSize;dm+="\t"}}while(dk<dl){++dk;dm+=" "}if(dm!=dg){b2(dm,{line:dh,ch:0},{line:dh,ch:dg.length})}}function b6(){cr=x.getMode(cd,cd.mode);cP.iter(0,cP.size,function(df){df.stateAfter=null});cx=[0];bU()}function bo(){var df=cd.gutter||cd.lineNumbers;aO.style.display=df?"":"none";if(df){a0=true}else{ay.parentNode.style.marginLeft=0}}function cX(dh,dg){if(cd.lineWrapping){aL.className+=" CodeMirror-wrap";var df=bu.clientWidth/br()-3;cP.iter(0,cP.size,function(di){if(di.hidden){return}var dj=Math.ceil(di.text.length/df)||1;if(dj!=1){bc(di,dj)}});bG.style.minWidth=bf.style.left=""}else{aL.className=aL.className.replace(" CodeMirror-wrap","");bK();cP.iter(0,cP.size,function(di){if(di.height!=1&&!di.hidden){bc(di,1)}})}aJ.push({from:0,to:cP.size})}function bj(dg){var df=cd.tabSize-dg%cd.tabSize,dj=aw[df];if(dj){return dj}for(var dk="",dh=0;dh<df;++dh){dk+=" "}var di=ad("span",dk,"cm-tab");return(aw[df]={element:di,width:df})}function cT(){bu.className=bu.className.replace(/\s*cm-s-\S+/g,"")+cd.theme.replace(/(^|\s)\s*/g," cm-s-")}function cM(){var df=B[cd.keyMap].style;aL.className=aL.className.replace(/\s*cm-keymap-\S+/g,"")+(df?" cm-keymap-"+df:"")}function de(){this.set=[]}de.prototype.clear=az(function(){var dk=Infinity,dg=-Infinity;for(var dj=0,dm=this.set.length;dj<dm;++dj){var dh=this.set[dj],df=dh.marked;if(!df||!dh.parent){continue}var dl=ae(dh);dk=Math.min(dk,dl);dg=Math.max(dg,dl);for(var di=0;di<df.length;++di){if(df[di].marker==this){df.splice(di--,1)}}}if(dk!=Infinity){aJ.push({from:dk,to:dg+1})}});de.prototype.find=function(){var dk,dl;for(var dh=0,dj=this.set.length;dh<dj;++dh){var dn=this.set[dh],di=dn.marked;for(var dg=0;dg<di.length;++dg){var df=di[dg];if(df.marker==this){if(df.from!=null||df.to!=null){var dm=ae(dn);if(dm!=null){if(df.from!=null){dk={line:dm,ch:df.from}}if(df.to!=null){dl={line:dm,ch:df.to}}}}}}}return{from:dk,to:dl}};function bT(dl,dk,dh){dl=a1(dl);dk=a1(dk);var df=new de();if(!af(dl,dk)){return df}function dj(dm,dq,dp,dn){cW(dm).addMark(new P(dq,dp,dn,df))}if(dl.line==dk.line){dj(dl.line,dl.ch,dk.ch,dh)}else{dj(dl.line,dl.ch,null,dh);for(var dg=dl.line+1,di=dk.line;dg<di;++dg){dj(dg,null,null,dh)}dj(dk.line,null,dk.ch,dh)}aJ.push({from:dl.line,to:dk.line+1});return df}function a2(dg){dg=a1(dg);var df=new L(dg.ch);cW(dg.line).addMark(df);return df}function by(dk){dk=a1(dk);var dj=[],dh=cW(dk.line).marked;if(!dh){return dj}for(var dg=0,di=dh.length;dg<di;++dg){var df=dh[dg];if((df.from==null||df.from<=dk.ch)&&(df.to==null||df.to>=dk.ch)){dj.push(df.marker||df)}}return dj}function b7(df,dh,dg){if(typeof df=="number"){df=cW(cb(df))}df.gutterMarker={text:dh,style:dg};a0=true;return df}function aC(df){if(typeof df=="number"){df=cW(cb(df))}df.gutterMarker=null;a0=true}function a5(dg,di){var dh=dg,df=dg;if(typeof dg=="number"){df=cW(cb(dg))}else{dh=ae(dg)}if(dh==null){return null}if(di(df,dh)){aJ.push({from:dh,to:dh+1})}else{return null}return df}function bv(dg,df,dh){return a5(dg,function(di){if(di.className!=df||di.bgClassName!=dh){di.className=df;di.bgClassName=dh;return true}})}function c1(dg,df){return a5(dg,function(dh,dk){if(dh.hidden!=df){dh.hidden=df;if(!cd.lineWrapping){if(df&&dh.text.length==bS.text.length){cU=true}else{if(!df&&dh.text.length>bS.text.length){bS=dh;cU=false}}}bc(dh,df?0:1);var dj=dd.from.line,di=dd.to.line;if(df&&(dj==dk||di==dk)){var dm=dj==dk?b4({line:dj,ch:0},dj,0):dd.from;var dl=di==dk?b4({line:di,ch:0},di,0):dd.to;if(!dl){return}bJ(dm,dl)}return(a0=true)}})}function a3(dg){if(typeof dg=="number"){if(!bC(dg)){return null}var dh=dg;dg=cW(dg);if(!dg){return null}}else{var dh=ae(dg);if(dh==null){return null}}var df=dg.gutterMarker;return{line:dh,handle:dg,text:dg.text,markerText:df&&df.text,markerClass:df&&df.style,lineClass:dg.className,bgClass:dg.bgClassName}}function aN(ds,dl){if(dl<=0){return 0}var di=cW(ds),dp=di.text;function dq(dt){return cg(di,dt).left}var dm=0,dk=0,dn=dp.length,dj;var dg=Math.min(dn,Math.ceil(dl/br()));for(;;){var dh=dq(dg);if(dh<=dl&&dg<dn){dg=Math.min(dn,Math.ceil(dg*1.2))}else{dj=dh;dn=dg;break}}if(dl>dj){return dn}dg=Math.floor(dn*0.8);dh=dq(dg);if(dh<dl){dm=dg;dk=dh}for(;;){if(dn-dm<=1){return(dj-dl>dl-dk)?dm:dn}var dr=Math.ceil((dm+dn)/2),df=dq(dr);if(df>dl){dn=dr;dj=df}else{dm=dr;dk=df}}}function cg(dg,dj){if(dj==0){return{top:0,left:0}}var df=cd.lineWrapping&&dj<dg.text.length&&s.test(dg.text.slice(dj-1,dj+1));var dm=dg.getElement(bj,dj,df);q(aD,dm);var di=dm.anchor;var dl=di.offsetTop,dk=di.offsetLeft;if(O&&dl==0&&dk==0){var dh=ad("span","x");di.parentNode.insertBefore(dh,di.nextSibling);dl=dh.offsetTop}return{top:dl,left:dk}}function c8(dk,di){var df,dg=b1(),dj=dg*(f(cP,dk.line)-(di?bn:0));if(dk.ch==0){df=0}else{var dh=cg(cW(dk.line),dk.ch);df=dh.left;if(cd.lineWrapping){dj+=Math.max(0,dh.top)}}return{x:df,y:dj,yBot:dj+dg}}function bV(dr,dq){var dn=b1(),dk=br(),dx=bn+Math.floor(dq/dn);if(dx<0){return{line:0,ch:0}}var ds=ac(cP,dx);if(ds>=cP.size){return{line:cP.size-1,ch:cW(cP.size-1).text.length}}var dg=cW(ds),du=dg.text;var dz=cd.lineWrapping,dp=dz?dx-f(cP,ds):0;if(dr<=0&&dp==0){return{line:ds,ch:0}}var dl=false;function dy(dB){var dC=cg(dg,dB);if(dz){var dD=Math.round(dC.top/dn);dl=dD!=dp;return Math.max(0,dC.left+(dD-dp)*bu.clientWidth)}return dC.left}var dw=0,dv=0,dh=du.length,df;var dt=Math.min(dh,Math.ceil((dr+dp*bu.clientWidth*0.9)/dk));for(;;){var dm=dy(dt);if(dm<=dr&&dt<dh){dt=Math.min(dh,Math.ceil(dt*1.2))}else{df=dm;dh=dt;break}}if(dr>df){return{line:ds,ch:dh}}dt=Math.floor(dh*0.8);dm=dy(dt);if(dm<dr){dw=dt;dv=dm}for(;;){if(dh-dw<=1){var dj=dr-dv<df-dr;return{line:ds,ch:dj?dw:dh,after:dj}}var dA=Math.ceil((dw+dh)/2),di=dy(dA);if(di>dr){dh=dA;df=di;if(dl){df+=1000}}else{dw=dA;dv=di}}}function av(dh){var df=c8(dh,true),dg=ap(bG);return{x:dg.left+df.x,y:dg.top+df.y,yBot:dg.top+df.yBot}}var a9,aF,au;function b1(){if(au==null){au=ad("pre");for(var dg=0;dg<49;++dg){au.appendChild(document.createTextNode("x"));au.appendChild(ad("br"))}au.appendChild(document.createTextNode("x"))}var df=ay.clientHeight;if(df==aF){return a9}aF=df;q(aD,au.cloneNode(true));a9=aD.firstChild.offsetHeight/50||1;E(aD);return a9}var c9,bH=0;function br(){if(bu.clientWidth==bH){return c9}bH=bu.clientWidth;var df=ad("span","x");var dg=ad("pre",[df]);q(aD,dg);return(c9=df.offsetWidth||10)}function cI(){return bG.offsetTop}function be(){return bG.offsetLeft}function bb(dj,di){var dh=ap(bu,true),df,dk;try{df=dj.clientX;dk=dj.clientY}catch(dj){return null}if(!di&&(df-dh.left>bu.clientWidth||dk-dh.top>bu.clientHeight)){return null}var dg=ap(bG,true);return bV(df-dg.left,dk-dg.top)}function ba(dg){var dl=bb(dg),dk=aT.scrollTop;if(!dl||Q){return}if(aj(dd.from,dd.to)||af(dl,dd.from)||!af(dl,dd.to)){az(bg)(dl.line,dl.ch)}var dj=bw.style.cssText;b9.style.position="absolute";bw.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(dg.clientY-5)+"px; left: "+(dg.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";bp=true;var di=bw.value=cf();bN();a(bw);function df(){var dm=D(bw.value).join("\n");if(dm!=di&&!cd.readOnly){az(bD)(dm,"end")}b9.style.position="relative";bw.style.cssText=dj;if(F){aT.scrollTop=dk}bp=false;cS(true);ar()}if(U){A(dg);var dh=v(window,"mouseup",function(){dh();setTimeout(df,20)},true)}else{setTimeout(df,50)}}function c3(){clearInterval(c6);var df=true;bm.style.visibility="";c6=setInterval(function(){bm.style.visibility=(df=!df)?"":"hidden"},cd.cursorBlinkRate)}var bz={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function cu(dl){var df=dd.inverted?dd.from:dd.to,dn=cW(df.line),dg=df.ch-1;var dk=(dg>=0&&bz[dn.text.charAt(dg)])||bz[dn.text.charAt(++dg)];if(!dk){return}var dp=dk.charAt(0),dm=dk.charAt(1)==">",dz=dm?1:-1,du=dn.styles;for(var dA=dg+1,dw=0,dy=du.length;dw<dy;dw+=2){if((dA-=du[dw].length)<=0){var dx=du[dw+1];break}}var di=[dn.text.charAt(dg)],dt=/[(){}[\]]/;function dr(dM,dH,dI){if(!dM.text){return}var dL=dM.styles,dG=dm?0:dM.text.length-1,dJ;for(var dD=dm?0:dL.length-2,dF=dm?dL.length:-2;dD!=dF;dD+=2*dz){var dK=dL[dD];if(dL[dD+1]!=dx){dG+=dz*dK.length;continue}for(var dC=dm?0:dK.length-1,dB=dm?dK.length:-1;dC!=dB;dC+=dz,dG+=dz){if(dG>=dH&&dG<dI&&dt.test(dJ=dK.charAt(dC))){var dE=bz[dJ];if(dE.charAt(1)==">"==dm){di.push(dJ)}else{if(di.pop()!=dE.charAt(0)){return{pos:dG,match:false}}else{if(!di.length){return{pos:dG,match:true}}}}}}}}for(var dw=df.line,dy=dm?Math.min(dw+100,cP.size):Math.max(-1,dw-100);dw!=dy;dw+=dz){var dn=cW(dw),dj=dw==df.line;var dq=dr(dn,dj&&dm?dg+1:0,dj&&!dm?dg:dn.text.length);if(dq){break}}if(!dq){dq={pos:null,match:false}}var dx=dq.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var dv=bT({line:df.line,ch:dg},{line:df.line,ch:dg+1},dx),dh=dq.pos!=null&&bT({line:dw,ch:dq.pos},{line:dw,ch:dq.pos+1},dx);var ds=az(function(){dv.clear();dh&&dh.clear()});if(dl){setTimeout(ds,800)}else{ci=ds}}function bh(dl){var dk,dh;for(var dg=dl,di=dl-40;dg>di;--dg){if(dg==0){return 0}var df=cW(dg-1);if(df.stateAfter){return dg}var dj=df.indentation(cd.tabSize);if(dh==null||dk>dj){dh=dg-1;dk=dj}}return dh}function cK(dh){var dg=bh(dh),df=dg&&cW(dg-1).stateAfter;if(!df){df=aa(cr)}else{df=t(cr,df)}cP.iter(dg,dh,function(di){di.highlight(cr,df,cd.tabSize);di.stateAfter=t(cr,df)});if(dg<dh){aJ.push({from:dg,to:dh})}if(dh<cP.size&&!cW(dh).stateAfter){cx.push(dh)}return df}function cY(dh,df){var dg=cK(dh);cP.iter(dh,df,function(di){di.highlight(cr,dg,cd.tabSize);di.stateAfter=t(cr,dg)})}function b5(){var dl=+new Date+cd.workTime;var dp=cx.length;while(cx.length){if(!cW(c7).stateAfter){var di=c7}else{var di=cx.pop()}if(di>=cP.size){continue}var dg=bh(di),df=dg&&cW(dg-1).stateAfter;if(df){df=t(cr,df)}else{df=aa(cr)}var dk=0,dh=cr.compareStates,dn=false,dm=dg,dj=false;cP.iter(dm,cP.size,function(dr){var ds=dr.stateAfter;if(+new Date>dl){cx.push(dm);bU(cd.workDelay);if(dn){aJ.push({from:di,to:dm+1})}return(dj=true)}var dt=dr.highlight(cr,df,cd.tabSize);if(dt){dn=true}dr.stateAfter=t(cr,df);var dq=null;if(dh){var du=ds&&dh(ds,df);if(du!=ah){dq=!!du}}if(dq==null){if(dt!==false||!ds){dk=0}else{if(++dk>3&&(!cr.indent||cr.indent(ds,"")==cr.indent(df,""))){dq=true}}}if(dq){return true}++dm});if(dj){return}if(dn){aJ.push({from:di,to:dm+1})}}if(dp&&cd.onHighlightComplete){cd.onHighlightComplete(cp)}}function bU(df){if(!cx.length){return}aE.set(df,az(b5))}function aV(){cG=cj=c4=null;aJ=[];aX=false;cQ=[]}function aG(){if(cU){bK()}if(bA&&!cd.lineWrapping){var df=bf.offsetWidth,dl=cg(bS,bS.text.length).left;if(!I){bf.style.left=dl+"px";bG.style.minWidth=(dl+df)+"px"}bA=false}var dj,dg;if(aX){var dk=b3();dj=a7(dk.x,dk.y,dk.x,dk.yBot)}if(aJ.length||dj&&dj.scrollTop!=null){dg=ct(aJ,true,dj&&dj.scrollTop)}if(!dg){if(aX){dc()}if(a0){aS()}}if(dj){cv()}if(aX){c3()}if(cz&&!bp&&(cG===true||(cG!==false&&aX))){cS(cj)}if(aX&&cd.matchBrackets){setTimeout(az(function(){if(ci){ci();ci=null}if(aj(dd.from,dd.to)){cu(false)}}),20)}var dm=aX,dh=cQ;if(c4&&cd.onChange&&cp){cd.onChange(cp,c4)}if(dm&&cd.onCursorActivity){cd.onCursorActivity(cp)}for(var di=0;di<dh.length;++di){dh[di](cp)}if(dg&&cd.onUpdate){cd.onUpdate(cp)}}var cH=0;function az(df){return function(){if(!cH++){aV()}try{var dg=df.apply(this,arguments)}finally{if(!--cH){aG()}}return dg}}function b0(df){bi.startCompound();try{return df()}finally{bi.endCompound()}}for(var bW in ai){if(ai.propertyIsEnumerable(bW)&&!cp.propertyIsEnumerable(bW)){cp[bW]=ai[bW]}}return cp}x.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:false,smartIndent:true,tabSize:4,keyMap:"default",extraKeys:null,electricChars:true,autoClearEmptyLines:false,onKeyEvent:null,onDragEvent:null,lineWrapping:false,lineNumbers:false,gutter:false,fixedGutter:false,firstLineNumber:1,readOnly:false,dragDrop:true,onChange:null,onCursorActivity:null,onViewportChange:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,cursorBlinkRate:530,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null,lineNumberFormatter:function(ar){return ar}};var w=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent);var S=w||/Mac/.test(navigator.platform);var Z=/Win/.test(navigator.platform);var ao=x.modes={},X=x.mimeModes={};x.defineMode=function(ar,au){if(!x.defaults.mode&&ar!="null"){x.defaults.mode=ar}if(arguments.length>2){au.dependencies=[];for(var at=2;at<arguments.length;++at){au.dependencies.push(arguments[at])}}ao[ar]=au};x.defineMIME=function(at,ar){X[at]=ar};x.resolveMode=function(ar){if(typeof ar=="string"&&X.hasOwnProperty(ar)){ar=X[ar]}else{if(typeof ar=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(ar)){return x.resolveMode("application/xml")}}if(typeof ar=="string"){return{name:ar}}else{return ar||{name:"null"}}};x.getMode=function(at,ar){var ar=x.resolveMode(ar);var au=ao[ar.name];if(!au){return x.getMode(at,"text/plain")}return au(at,ar)};x.listModes=function(){var at=[];for(var ar in ao){if(ao.propertyIsEnumerable(ar)){at.push(ar)}}return at};x.listMIMEs=function(){var at=[];for(var ar in X){if(X.propertyIsEnumerable(ar)){at.push({mime:ar,mode:X[ar]})}}return at};var ai=x.extensions={};x.defineExtension=function(ar,at){ai[ar]=at};var R=x.commands={selectAll:function(ar){ar.setSelection({line:0,ch:0},{line:ar.lineCount()-1})},killLine:function(ar){var av=ar.getCursor(true),au=ar.getCursor(false),at=!aj(av,au);if(!at&&ar.getLine(av.line).length==av.ch){ar.replaceRange("",av,{line:av.line+1,ch:0})}else{ar.replaceRange("",av,at?au:{line:av.line})}},deleteLine:function(ar){var at=ar.getCursor().line;ar.replaceRange("",{line:at,ch:0},{line:at})},undo:function(ar){ar.undo()},redo:function(ar){ar.redo()},goDocStart:function(ar){ar.setCursor(0,0,true)},goDocEnd:function(ar){ar.setSelection({line:ar.lineCount()-1},null,true)},goLineStart:function(ar){ar.setCursor(ar.getCursor().line,0,true)},goLineStartSmart:function(ar){var av=ar.getCursor();var au=ar.getLine(av.line),at=Math.max(0,au.search(/\S/));ar.setCursor(av.line,av.ch<=at&&av.ch?0:at,true)},goLineEnd:function(ar){ar.setSelection({line:ar.getCursor().line},null,true)},goLineUp:function(ar){ar.moveV(-1,"line")},goLineDown:function(ar){ar.moveV(1,"line")},goPageUp:function(ar){ar.moveV(-1,"page")},goPageDown:function(ar){ar.moveV(1,"page")},goCharLeft:function(ar){ar.moveH(-1,"char")},goCharRight:function(ar){ar.moveH(1,"char")},goColumnLeft:function(ar){ar.moveH(-1,"column")},goColumnRight:function(ar){ar.moveH(1,"column")},goWordLeft:function(ar){ar.moveH(-1,"word")},goWordRight:function(ar){ar.moveH(1,"word")},delCharLeft:function(ar){ar.deleteH(-1,"char")},delCharRight:function(ar){ar.deleteH(1,"char")},delWordLeft:function(ar){ar.deleteH(-1,"word")},delWordRight:function(ar){ar.deleteH(1,"word")},indentAuto:function(ar){ar.indentSelection("smart")},indentMore:function(ar){ar.indentSelection("add")},indentLess:function(ar){ar.indentSelection("subtract")},insertTab:function(ar){ar.replaceSelection("\t","end")},defaultTab:function(ar){if(ar.somethingSelected()){ar.indentSelection("add")}else{ar.replaceSelection("\t","end")}},transposeChars:function(ar){var au=ar.getCursor(),at=ar.getLine(au.line);if(au.ch>0&&au.ch<at.length-1){ar.replaceRange(at.charAt(au.ch)+at.charAt(au.ch-1),{line:au.line,ch:au.ch-1},{line:au.line,ch:au.ch+1})}},newlineAndIndent:function(ar){ar.replaceSelection("\n","end");ar.indentLine(ar.getCursor().line)},toggleOverwrite:function(ar){ar.toggleOverwrite()}};var B=x.keyMap={};B.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};B.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};B.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]};B["default"]=S?B.macDefault:B.pcDefault;B.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};function c(ar){if(typeof ar=="string"){return B[ar]}else{return ar}}function n(at,ar,ax,av,au){function aw(aC){aC=c(aC);var aA=aC[at];if(aA===false){if(au){au()}return true}if(aA!=null&&av(aA)){return true}if(aC.nofallthrough){if(au){au()}return true}var az=aC.fallthrough;if(az==null){return false}if(Object.prototype.toString.call(az)!="[object Array]"){return aw(az)}for(var ay=0,aB=az.length;ay<aB;++ay){if(aw(az[ay])){return true}}return false}if(ar&&aw(ar)){return true}return aw(ax)}function V(at){var ar=W[y(at,"keyCode")];return ar=="Ctrl"||ar=="Alt"||ar=="Shift"||ar=="Mod"}x.fromTextArea=function(ay,aA){if(!aA){aA={}}aA.value=ay.value;if(!aA.tabindex&&ay.tabindex){aA.tabindex=ay.tabindex}if(aA.autofocus==null){var ar=document.body;try{ar=document.activeElement}catch(au){}aA.autofocus=ar==ay||ay.getAttribute("autofocus")!=null&&ar==document.body}function aw(){ay.value=az.getValue()}if(ay.form){var at=v(ay.form,"submit",aw,true);if(typeof ay.form.submit=="function"){var ax=ay.form.submit;ay.form.submit=function av(){aw();ay.form.submit=ax;ay.form.submit();ay.form.submit=av}}}ay.style.display="none";var az=x(function(aB){ay.parentNode.insertBefore(aB,ay.nextSibling)},aA);az.save=aw;az.getTextArea=function(){return ay};az.toTextArea=function(){aw();ay.parentNode.removeChild(az.getWrapperElement());ay.style.display="";if(ay.form){at();if(typeof ay.form.submit=="function"){ay.form.submit=ax}}};return az};var U=/gecko\/\d{7}/i.test(navigator.userAgent);var O=/MSIE \d/.test(navigator.userAgent);var I=/MSIE [1-7]\b/.test(navigator.userAgent);var F=/MSIE [1-8]\b/.test(navigator.userAgent);var J=O&&document.documentMode==5;var h=/WebKit\//.test(navigator.userAgent);var al=/Chrome\//.test(navigator.userAgent);var Q=/Opera\//.test(navigator.userAgent);var i=/Apple Computer/.test(navigator.vendor);var p=/KHTML\//.test(navigator.userAgent);var g=/Mac OS X 10\D([7-9]|\d\d)\D/.test(navigator.userAgent);function t(av,ar){if(ar===true){return ar}if(av.copyState){return av.copyState(ar)}var au={};for(var aw in ar){var at=ar[aw];if(at instanceof Array){at=at.concat([])}au[aw]=at}return au}x.copyState=t;function aa(au,at,ar){return au.startState?au.startState(at,ar):true}x.startState=aa;function b(ar,at){this.pos=this.start=0;this.string=ar;this.tabSize=at||8}b.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)||undefined},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(ar){var au=this.string.charAt(this.pos);if(typeof ar=="string"){var at=au==ar}else{var at=au&&(ar.test?ar.test(au):ar(au))}if(at){++this.pos;return au}},eatWhile:function(ar){var at=this.pos;while(this.eat(ar)){}return this.pos>at},eatSpace:function(){var ar=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>ar},skipToEnd:function(){this.pos=this.string.length},skipTo:function(ar){var at=this.string.indexOf(ar,this.pos);if(at>-1){this.pos=at;return true}},backUp:function(ar){this.pos-=ar},column:function(){return r(this.string,this.start,this.tabSize)},indentation:function(){return r(this.string,null,this.tabSize)},match:function(av,at,ar){if(typeof av=="string"){var aw=function(ax){return ar?ax.toLowerCase():ax};if(aw(this.string).indexOf(aw(av),this.pos)==this.pos){if(at!==false){this.pos+=av.length}return true}}else{var au=this.string.slice(this.pos).match(av);if(au&&at!==false){this.pos+=au[0].length}return au}},current:function(){return this.string.slice(this.start,this.pos)}};x.StringStream=b;function P(av,au,at,ar){this.from=av;this.to=au;this.style=at;this.marker=ar}P.prototype={attach:function(ar){this.marker.set.push(ar)},detach:function(at){var ar=u(this.marker.set,at);if(ar>-1){this.marker.set.splice(ar,1)}},split:function(av,ar){if(this.to<=av&&this.to!=null){return null}var au=this.from<av||this.from==null?null:this.from-av+ar;var at=this.to==null?null:this.to-av+ar;return new P(au,at,this.style,this.marker)},dup:function(){return new P(null,null,this.style,this.marker)},clipTo:function(at,aw,ar,av,au){if(at&&av>this.from&&(av<this.to||this.to==null)){this.from=null}else{if(this.from!=null&&this.from>=aw){this.from=Math.max(av,this.from)+au}}if(ar&&(aw<this.to||this.to==null)&&(aw>this.from||this.from==null)){this.to=null}else{if(this.to!=null&&this.to>aw){this.to=av<this.to?this.to+au:aw}}},isDead:function(){return this.from!=null&&this.to!=null&&this.from>=this.to},sameSet:function(ar){return this.marker==ar.marker}};function L(ar){this.from=ar;this.to=ar;this.line=null}L.prototype={attach:function(ar){this.line=ar},detach:function(ar){if(this.line==ar){this.line=null}},split:function(at,ar){if(at<this.from){this.from=this.to=(this.from-at)+ar;return this}},isDead:function(){return this.from>this.to},clipTo:function(at,aw,ar,av,au){if((at||aw<this.from)&&(ar||av>this.to)){this.from=0;this.to=-1}else{if(this.from>aw){this.from=this.to=Math.max(av,this.from)+au}}},sameSet:function(ar){return false},find:function(){if(!this.line||!this.line.parent){return null}return{line:ae(this.line),ch:this.from}},clear:function(){if(this.line){var ar=u(this.line.marked,this);if(ar!=-1){this.line.marked.splice(ar,1)}this.line=null}}};var o=" ";if(U||(O&&!I)){o="\u200b"}else{if(Q){o=""}}function e(at,ar){this.styles=ar||[at,null];this.text=at;this.height=1}e.inheritMarks=function(aw,az){var av=new e(aw),ar=az&&az.marked;if(ar){for(var au=0;au<ar.length;++au){if(ar[au].to==null&&ar[au].style){var at=av.marked||(av.marked=[]),ay=ar[au];var ax=ay.dup();at.push(ax);ax.attach(av)}}}return av};e.prototype={replace:function(aw,av,az){var aA=[],au=this.marked,ax=av==null?this.text.length:av;aq(0,aw,this.styles,aA);if(az){aA.push(az,null)}aq(ax,this.text.length,this.styles,aA);this.styles=aA;this.text=this.text.slice(0,aw)+az+this.text.slice(ax);this.stateAfter=null;if(au){var ay=az.length-(ax-aw);for(var at=0;at<au.length;++at){var ar=au[at];ar.clipTo(aw==null,aw||0,av==null,ax,ay);if(ar.isDead()){ar.detach(this);au.splice(at--,1)}}}},split:function(az,ax){var av=[ax,null],at=this.marked;aq(az,this.text.length,this.styles,av);var au=new e(ax+this.text.slice(az),av);if(at){for(var aw=0;aw<at.length;++aw){var ay=at[aw];var ar=ay.split(az,ax.length);if(ar){if(!au.marked){au.marked=[]}au.marked.push(ar);ar.attach(au);if(ar==ay){at.splice(aw--,1)}}}}return au},append:function(at){var ay=this.text.length,ar=at.marked,aw=this.marked;this.text+=at.text;aq(0,at.text.length,at.styles,this.styles);if(aw){for(var ax=0;ax<aw.length;++ax){if(aw[ax].to==null){aw[ax].to=ay}}}if(ar&&ar.length){if(!aw){this.marked=aw=[]}outer:for(var ax=0;ax<ar.length;++ax){var az=ar[ax];if(!az.from){for(var av=0;av<aw.length;++av){var au=aw[av];if(au.to==ay&&au.sameSet(az)){au.to=az.to==null?null:az.to+ay;if(au.isDead()){au.detach(this);ar.splice(ax--,1)}continue outer}}}aw.push(az);az.attach(this);az.from+=ay;if(az.to!=null){az.to+=ay}}}},fixMarkEnds:function(at){var ar=this.marked,ax=at.marked;if(!ar){return}outer:for(var aw=0;aw<ar.length;++aw){var az=ar[aw],ay=az.to==null;if(ay&&ax){for(var av=0;av<ax.length;++av){var au=ax[av];if(!au.sameSet(az)||au.from!=null){continue}if(az.from==this.text.length&&au.to==0){ax.splice(av,1);ar.splice(aw--,1);continue outer}else{ay=false;break}}}if(ay){az.to=this.text.length}}},fixMarkStarts:function(){var ar=this.marked;if(!ar){return}for(var at=0;at<ar.length;++at){if(ar[at].from==null){ar[at].from=0}}},addMark:function(ar){ar.attach(this);if(this.marked==null){this.marked=[]}this.marked.push(ar);this.marked.sort(function(au,at){return(au.from||0)-(at.from||0)})},highlight:function(ax,at,ay){var aB=new b(this.text,ay),aC=this.styles,az=0;var aw=false,au=aC[0],aA;if(this.text==""&&ax.blankLine){ax.blankLine(at)}while(!aB.eol()){var ar=ax.token(aB,at);var av=this.text.slice(aB.start,aB.pos);aB.start=aB.pos;if(az&&aC[az-1]==ar){aC[az-2]+=av}else{if(av){if(!aw&&(aC[az+1]!=ar||(az&&aC[az-2]!=aA))){aw=true}aC[az++]=av;aC[az++]=ar;aA=au;au=aC[az]}}if(aB.pos>5000){aC[az++]=this.text.slice(aB.pos);aC[az++]=null;break}}if(aC.length!=az){aC.length=az;aw=true}if(az&&aC[az-2]!=aA){aw=true}return aw||(aC.length<5&&this.text.length<10?null:false)},getTokenAt:function(ay,av,aw,au){var ar=this.text,ax=new b(ar,aw);while(ax.pos<au&&!ax.eol()){ax.start=ax.pos;var at=ay.token(ax,av)}return{start:ax.start,end:ax.pos,string:ax.current(),className:at||null,state:av}},indentation:function(ar){return r(this.text,null,ar)},getElement:function(aR,ar,av){var az=true,ax=0,aM=/[\t\u0000-\u0019\u200b\u2028\u2029\uFEFF]/g;var aF=ad("pre");function aN(a3,a7,aZ){if(!a7){return}if(az&&O&&a7.charAt(0)==" "){a7="\u00a0"+a7.slice(1)}az=false;if(!aM.test(a7)){ax+=a7.length;var a4=document.createTextNode(a7)}else{var a4=document.createDocumentFragment(),a6=0;while(true){aM.lastIndex=a6;var a1=aM.exec(a7);var a5=a1?a1.index-a6:a7.length-a6;if(a5){a4.appendChild(document.createTextNode(a7.slice(a6,a6+a5)));ax+=a5}if(!a1){break}a6+=a5+1;if(a1[0]=="\t"){var a0=aR(ax);a4.appendChild(a0.element.cloneNode(true));ax+=a0.width}else{var a2=ad("span","\u2022","cm-invalidchar");a2.title="\\u"+a1[0].charCodeAt(0).toString(16);a4.appendChild(a2);ax+=1}}}if(aZ){a3.appendChild(ad("span",[a4],aZ))}else{a3.appendChild(a4)}}var aQ=aN;if(ar!=null){var aK=0,aA=aF.anchor=ad("span");aQ=function(a0,a3,a1){var aZ=a3.length;if(ar>=aK&&ar<aK+aZ){if(ar>aK){aN(a0,a3.slice(0,ar-aK),a1);if(av){a0.appendChild(ad("wbr"))}}a0.appendChild(aA);var a2=ar-aK;aN(aA,Q?a3.slice(a2,a2+1):a3.slice(a2),a1);if(Q){aN(a0,a3.slice(a2+1),a1)}ar--;aK+=aZ}else{aK+=aZ;aN(a0,a3,a1);if(aK==ar&&aK==aV){l(aA,o);a0.appendChild(aA)}else{if(aK>ar+10&&/\s/.test(a3)){aQ=function(){}}}}}}var aJ=this.styles,aB=this.text,aG=this.marked;var aV=aB.length;function aw(aZ){if(!aZ){return null}return"cm-"+aZ.replace(/ +/g," cm-")}if(!aB&&ar==null){aQ(aF," ")}else{if(!aG||!aG.length){for(var aS=0,aC=0;aC<aV;aS+=2){var aI=aJ[aS],aU=aJ[aS+1],aL=aI.length;if(aC+aL>aV){aI=aI.slice(0,aV-aC)}aC+=aL;aQ(aF,aI,aw(aU))}}else{var ay=0,aS=0,aE="",aU,aY=0;var aX=aG[0].from||0,aP=[],aW=0;var aT=function(){var aZ;while(aW<aG.length&&((aZ=aG[aW]).from==ay||aZ.from==null)){if(aZ.style!=null){aP.push(aZ)}++aW}aX=aW<aG.length?aG[aW].from:Infinity;for(var a0=0;a0<aP.length;++a0){var a1=aP[a0].to;if(a1==null){a1=Infinity}if(a1==ay){aP.splice(a0--,1)}else{aX=Math.min(a1,aX)}}};var aH=0;while(ay<aV){if(aX==ay){aT()}var aD=Math.min(aV,aX);while(true){if(aE){var au=ay+aE.length;var at=aU;for(var aO=0;aO<aP.length;++aO){at=(at?at+" ":"")+aP[aO].style}aQ(aF,au>aD?aE.slice(0,aD-ay):aE,at);if(au>=aD){aE=aE.slice(aD-ay);ay=aD;break}ay=au}aE=aJ[aS++];aU=aw(aJ[aS++])}}}}return aF},cleanUp:function(){this.parent=null;if(this.marked){for(var ar=0,at=this.marked.length;ar<at;++ar){this.marked[ar].detach(this)}}}};function aq(ay,az,ar,aA){for(var aw=0,ax=0,at=0;ax<az;aw+=2){var au=ar[aw],av=ax+au.length;if(at==0){if(av>ay){aA.push(au.slice(ay-ax,Math.min(au.length,az-ax)),ar[aw+1])}if(av>=ay){at=1}}else{if(at==1){if(av>az){aA.push(au.slice(0,az-ax),ar[aw+1])}else{aA.push(au,ar[aw+1])}}}ax=av}}function an(at){this.lines=at;this.parent=null;for(var au=0,av=at.length,ar=0;au<av;++au){at[au].parent=this;ar+=at[au].height}this.height=ar}an.prototype={chunkSize:function(){return this.lines.length},remove:function(ar,az,ax){for(var aw=ar,ay=ar+az;aw<ay;++aw){var au=this.lines[aw];this.height-=au.height;au.cleanUp();if(au.handlers){for(var av=0;av<au.handlers.length;++av){ax.push(au.handlers[av])}}}this.lines.splice(ar,az)},collapse:function(ar){ar.splice.apply(ar,[ar.length,0].concat(this.lines))},insertHeight:function(au,av,ar){this.height+=ar;this.lines=this.lines.slice(0,au).concat(av).concat(this.lines.slice(au));for(var aw=0,ax=av.length;aw<ax;++aw){av[aw].parent=this}},iterN:function(ar,aw,av){for(var au=ar+aw;ar<au;++ar){if(av(this.lines[ar])){return true}}}};function k(av){this.children=av;var au=0,ar=0;for(var at=0,ax=av.length;at<ax;++at){var aw=av[at];au+=aw.chunkSize();ar+=aw.height;aw.parent=this}this.size=au;this.height=ar;this.parent=null}k.prototype={chunkSize:function(){return this.size},remove:function(av,au,ay){this.size-=au;for(var aw=0;aw<this.children.length;++aw){var ar=this.children[aw],az=ar.chunkSize();if(av<az){var ax=Math.min(au,az-av),aA=ar.height;ar.remove(av,ax,ay);this.height-=aA-ar.height;if(az==ax){this.children.splice(aw--,1);ar.parent=null}if((au-=ax)==0){break}av=0}else{av-=az}}if(this.size-au<25){var aB=[];this.collapse(aB);this.children=[new an(aB)];this.children[0].parent=this}},collapse:function(ar){for(var at=0,au=this.children.length;at<au;++at){this.children[at].collapse(ar)}},insert:function(au,av){var ar=0;for(var aw=0,ax=av.length;aw<ax;++aw){ar+=av[aw].height}this.insertHeight(au,av,ar)},insertHeight:function(au,aB,aA){this.size+=aB.length;this.height+=aA;for(var av=0,ax=this.children.length;av<ax;++av){var ar=this.children[av],ay=ar.chunkSize();if(au<=ay){ar.insertHeight(au,aB,aA);if(ar.lines&&ar.lines.length>50){while(ar.lines.length>50){var aw=ar.lines.splice(ar.lines.length-25,25);var az=new an(aw);ar.height-=az.height;this.children.splice(av+1,0,az);az.parent=this}this.maybeSpill()}break}au-=ay}},maybeSpill:function(){if(this.children.length<=10){return}var av=this;do{var at=av.children.splice(av.children.length-5,5);var au=new k(at);if(!av.parent){var aw=new k(av.children);aw.parent=av;av.children=[aw,au];av=aw}else{av.size-=au.size;av.height-=au.height;var ar=u(av.parent.children,av);av.parent.children.splice(ar+1,0,au)}au.parent=av.parent}while(av.children.length>10);av.parent.maybeSpill()},iter:function(au,at,ar){this.iterN(au,at-au,ar)},iterN:function(ar,aA,az){for(var au=0,ax=this.children.length;au<ax;++au){var ay=this.children[au],aw=ay.chunkSize();if(ar<aw){var av=Math.min(aA,aw-ar);if(ay.iterN(ar,av,az)){return true}if((aA-=av)==0){break}ar=0}else{ar-=aw}}}};function H(ar,aw){while(!ar.lines){for(var at=0;;++at){var av=ar.children[at],au=av.chunkSize();if(aw<au){ar=av;break}aw-=au}}return ar.lines[aw]}function ae(ar){if(ar.parent==null){return null}var ax=ar.parent,aw=u(ax.lines,ar);for(var at=ax.parent;at;ax=at,at=at.parent){for(var au=0,av=at.children.length;;++au){if(at.children[au]==ax){break}aw+=at.children[au].chunkSize()}}return aw}function ac(ay,aw){var au=0;outer:do{for(var av=0,ax=ay.children.length;av<ax;++av){var at=ay.children[av],ar=at.height;if(aw<ar){ay=at;continue outer}aw-=ar;au+=at.chunkSize()}return au}while(!ay.lines);for(var av=0,ax=ay.lines.length;av<ax;++av){var aA=ay.lines[av],az=aA.height;if(aw<az){break}aw-=az}return au+av}function f(ar,ay){var au=0;outer:do{for(var at=0,aw=ar.children.length;at<aw;++at){var ax=ar.children[at],av=ax.chunkSize();if(ay<av){ar=ax;continue outer}ay-=av;au+=ax.height}return au}while(!ar.lines);for(var at=0;at<ay;++at){au+=ar.lines[at].height}return au}function m(){this.time=0;this.done=[];this.undone=[];this.compound=0;this.closed=false}m.prototype={addChange:function(ar,ax,at){this.undone.length=0;var au=+new Date,az=this.done[this.done.length-1],aA=az&&az[az.length-1];var aw=au-this.time;if(this.compound&&az&&!this.closed){az.push({start:ar,added:ax,old:at})}else{if(aw>400||!aA||this.closed||aA.start>ar+at.length||aA.start+aA.added<ar){this.done.push([{start:ar,added:ax,old:at}]);this.closed=false}else{var ay=Math.max(0,aA.start-ar),aB=Math.max(0,(ar+at.length)-(aA.start+aA.added));for(var av=ay;av>0;--av){aA.old.unshift(at[av-1])}for(var av=aB;av>0;--av){aA.old.push(at[at.length-av])}if(ay){aA.start=ar}aA.added+=ax-(at.length-ay-aB)}}this.time=au},startCompound:function(){if(!this.compound++){this.closed=true}},endCompound:function(){if(!--this.compound){this.closed=true}}};function N(){A(this)}function T(ar){if(!ar.stop){ar.stop=N}return ar}function Y(ar){if(ar.preventDefault){ar.preventDefault()}else{ar.returnValue=false}}function G(ar){if(ar.stopPropagation){ar.stopPropagation()}else{ar.cancelBubble=true}}function A(ar){Y(ar);G(ar)}x.e_stop=A;x.e_preventDefault=Y;x.e_stopPropagation=G;function j(ar){return ar.target||ar.srcElement}function z(at){var ar=at.which;if(ar==null){if(at.button&1){ar=1}else{if(at.button&2){ar=3}else{if(at.button&4){ar=2}}}}if(S&&at.ctrlKey&&ar==1){ar=3}return ar}function y(at,au){var ar=at.override&&at.override.hasOwnProperty(au);return ar?at.override[au]:at[au]}function v(av,au,at,ar){if(typeof av.addEventListener=="function"){av.addEventListener(au,at,false);if(ar){return function(){av.removeEventListener(au,at,false)}}}else{var aw=function(ax){at(ax||window.event)};av.attachEvent("on"+au,aw);if(ar){return function(){av.detachEvent("on"+au,aw)}}}}x.connect=v;function C(){this.id=null}C.prototype={set:function(ar,at){clearTimeout(this.id);this.id=setTimeout(at,ar)}};var ah=x.Pass={toString:function(){return"CodeMirror.Pass"}};var K=function(){if(F){return false}var ar=ad("div");return"draggable" in ar||"dragDrop" in ar}();var d=function(){var ar=ad("textarea");ar.value="foo\nbar";if(ar.value.indexOf("\r")>-1){return"\r\n"}return"\n"}();var s=/^$/;if(U){s=/$'/}else{if(i){s=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/}else{if(al){s=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/}}}function r(at,ar,av){if(ar==null){ar=at.search(/[^\s\u00a0]/);if(ar==-1){ar=at.length}}for(var au=0,aw=0;au<ar;++au){if(at.charAt(au)=="\t"){aw+=av-(aw%av)}else{++aw}}return aw}function ap(av,ar){try{var au=av.getBoundingClientRect();au={top:au.top,left:au.left}}catch(aw){au={top:0,left:0}}if(!ar){if(window.pageYOffset==null){var at=document.documentElement||document.body.parentNode;if(at.scrollTop==null){at=document.body}au.top+=at.scrollTop;au.left+=at.scrollLeft}else{au.top+=window.pageYOffset;au.left+=window.pageXOffset}}return au}function M(ar){return ar.textContent||ar.innerText||ar.nodeValue||""}function a(ar){if(w){ar.selectionStart=0;ar.selectionEnd=ar.value.length}else{ar.select()}}function aj(at,ar){return at.line==ar.line&&at.ch==ar.ch}function af(at,ar){return at.line<ar.line||(at.line==ar.line&&at.ch<ar.ch)}function ag(ar){return{line:ar.line,ch:ar.ch}}function ad(ar,aw,av,au){var ax=document.createElement(ar);if(av){ax.className=av}if(au){ax.style.cssText=au}if(typeof aw=="string"){l(ax,aw)}else{if(aw){for(var at=0;at<aw.length;++at){ax.appendChild(aw[at])}}}return ax}function E(ar){ar.innerHTML="";return ar}function q(ar,at){E(ar).appendChild(at)}function l(ar,at){if(F){ar.innerHTML="";ar.appendChild(document.createTextNode(at))}else{ar.textContent=at}}x.setTextContent=l;function ab(av,au){if(!au){return 0}if(!av){return au.length}for(var at=av.length,ar=au.length;at>=0&&ar>=0;--at,--ar){if(av.charAt(at)!=au.charAt(ar)){break}}return ar+1}function u(av,ar){if(av.indexOf){return av.indexOf(ar)}for(var at=0,au=av.length;at<au;++at){if(av[at]==ar){return at}}return -1}function am(ar){return/\w/.test(ar)||ar.toUpperCase()!=ar.toLowerCase()}var D="\n\nb".split(/\n/).length!=3?function(ax){var ay=0,ar=[],aw=ax.length;while(ay<=aw){var av=ax.indexOf("\n",ay);if(av==-1){av=ax.length}var au=ax.slice(ay,ax.charAt(av-1)=="\r"?av-1:av);var at=au.indexOf("\r");if(at!=-1){ar.push(au.slice(0,at));ay+=at+1}else{ar.push(au);ay=av+1}}return ar}:function(ar){return ar.split(/\r\n?|\n/)};x.splitLines=D;var ak=window.getSelection?function(at){try{return at.selectionStart!=at.selectionEnd}catch(ar){return false}}:function(au){try{var ar=au.ownerDocument.selection.createRange()}catch(at){}if(!ar||ar.parentElement()!=au){return false}return ar.compareEndPoints("StartToEnd",ar)!=0};x.defineMode("null",function(){return{token:function(ar){ar.skipToEnd()}}});x.defineMIME("text/plain","null");var W={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};x.keyNames=W;(function(){for(var ar=0;ar<10;ar++){W[ar+48]=String(ar)}for(var ar=65;ar<=90;ar++){W[ar]=String.fromCharCode(ar)}for(var ar=1;ar<=12;ar++){W[ar+111]=W[ar+63235]="F"+ar}})();return x})();!function(b){var a=function(e,d){this.$element=b(e);this.options=b.extend({},b.fn.codemirror.defaults,d,this.$element.data());if(this.options.editFullscreen){this.options.extraKeys={"Shift-Cmd-F":function(f){jQuery(f.getTextArea()).codemirror("showFullscreen")},"Shift-Ctrl-F":function(f){jQuery(f.getTextArea()).codemirror("showFullscreen")},Esc:function(f){jQuery(f.getTextArea()).codemirror("hideFullscreen")},"Cmd-S":function(f){jQuery('input[name="save_button"]:visible')[0].click()},"Ctrl-S":function(f){jQuery('input[name="save_button"]:visible')[0].click()},"Shift-Cmd-P":function(f){jQuery('input[name="preview_button"]:visible')[0].click()},"Shift-Ctrl-P":function(f){jQuery('input[name="preview_button"]:visible')[0].click()}}}this.$editor=CodeMirror.fromTextArea(e,this.options);this.$editor.getScrollerElement().style.height=this.options.height||"";this.$editor.refresh();if(this.options.editFullscreen){var c=b("<i class='cm-fullscreen'></i>").on("click",function(f){b(e).codemirror("toggleFullscreen")});b(this.$editor.getWrapperElement()).prepend(c)}};a.prototype={editor:function(){return this.$editor},resizeInFullscreen:function(){var d=b("#cm-fs-wrapper h3").height(),c=b("#cm-fs-wrapper").height();this.$editor.getScrollerElement().style.height=(c-(d+65))+"px"},buildFullscreen:function(d){var e=d.getWrapperElement(),c=d.getScrollerElement(),f=b(this.$element.data("fullscreenActions")).find("input, a");if(!document.getElementById("cm-fs-editor")){b("<div id='cm-fs-wrapper' class='hide' />").appendTo("body").append("<h3 />").append("<div id='cm-fs-editor'>").append("<div id='cm-fs-actions'><div class='cm-well'></div></div>")}b("#cm-fs-wrapper h3").html(this.$element.data("fullscreenTitle")||"Editing in fullscreen");b("#cm-fs-actions .cm-well").empty();b.each(f,function(g,h){b(h).clone().appendTo("#cm-fs-actions .cm-well").on("click",function(i){b(h).trigger("click")})});b(e).detach().appendTo("#cm-fs-editor");b("#cm-fs-wrapper").show();this.resizeInFullscreen()},showFullscreen:function(){var d=this.$editor,e=d.getWrapperElement(),c=d.getScrollerElement();if(!b(e).data("fullscreen")){b(e).addClass("CodeMirror-fullscreen");b(e).data("fullscreen",true);b(c).data("oldHeight",c.style.height);this.buildFullscreen(d);b(document).data("fs-codemirror",this.$element);document.documentElement.style.overflow="hidden"}window["codemirror-fullscreen"]=true;d.refresh();d.focus()},hideFullscreen:function(){var d=this.$editor,e=d.getWrapperElement(),c=d.getScrollerElement();if(jQuery(e).data("fullscreen")){b(e).removeClass("CodeMirror-fullscreen");b(e).data("fullscreen",false);c.style.height=b(c).data("oldHeight");document.documentElement.style.overflow="";b(d.getTextArea()).after(b(e).detach());jQuery("#cm-fs-wrapper").hide();b(document).data("fs-codemirror",false)}window["codemirror-fullscreen"]=false;d.refresh();d.focus()},toggleFullscreen:function(){if(jQuery(this.$editor.getWrapperElement()).data("fullscreen")){this.hideFullscreen()}else{this.showFullscreen()}},refresh:function(){this.$editor.refresh()},save:function(){this.$editor.save()}};b.fn.codemirror=function(c){return this.each(function(){var f=b(this),e=f.data("codemirror"),d=typeof c=="object"&&c;if(!e){f.data("codemirror",(e=new a(this,d)))}if(typeof c=="string"){e[c]()}})};b.fn.codemirror.defaults={lineNumbers:true,mode:"liquid",theme:"textmate",tabMode:"indent",gutter:true,editFullscreen:true};b.fn.codemirror.Constructor=a;b(document).ready(function(){CodeMirror.connect(window,"resize",function(){if(b(document).data("fs-codemirror")){b(document).data("fs-codemirror").codemirror("resizeInFullscreen")}})})}(window.jQuery);CodeMirror.defineMode("css",function(b){var f=b.indentUnit,h;var e=d(["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","navy","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","overlay","overline","padding","padding-box","painted","paused","persian","plus-darker","plus-lighter","pointer","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","white","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small","yellow","-wap-marquee","-webkit-activelink","-webkit-auto","-webkit-baseline-middle","-webkit-body","-webkit-box","-webkit-center","-webkit-control","-webkit-focus-ring-color","-webkit-grab","-webkit-grabbing","-webkit-gradient","-webkit-inline-box","-webkit-left","-webkit-link","-webkit-marquee","-webkit-mini-control","-webkit-nowrap","-webkit-pictograph","-webkit-right","-webkit-small-control","-webkit-text","-webkit-xxx-large","-webkit-zoom-in","-webkit-zoom-out"]);function d(m){var l={};for(var k=0;k<m.length;++k){l[m[k]]=true}return l}function g(k,l){h=l;return k}function c(m,l){var k=m.next();if(k=="@"){m.eatWhile(/[\w\\\-]/);return g("meta",m.current())}else{if(k=="/"&&m.eat("*")){l.tokenize=j;return j(m,l)}else{if(k=="<"&&m.eat("!")){l.tokenize=a;return a(m,l)}else{if(k=="="){g(null,"compare")}else{if((k=="~"||k=="|")&&m.eat("=")){return g(null,"compare")}else{if(k=='"'||k=="'"){l.tokenize=i(k);return l.tokenize(m,l)}else{if(k=="#"){m.eatWhile(/[\w\\\-]/);return g("atom","hash")}else{if(k=="!"){m.match(/^\s*\w*/);return g("keyword","important")}else{if(/\d/.test(k)){m.eatWhile(/[\w.%]/);return g("number","unit")}else{if(/[,.+>*\/]/.test(k)){return g(null,"select-op")}else{if(/[;{}:\[\]\(\)]/.test(k)){return g(null,k)}else{m.eatWhile(/[\w\\\-]/);return g("variable","variable")}}}}}}}}}}}}function j(n,m){var k=false,l;while((l=n.next())!=null){if(k&&l=="/"){m.tokenize=c;break}k=(l=="*")}return g("comment","comment")}function a(n,m){var l=0,k;while((k=n.next())!=null){if(l>=2&&k==">"){m.tokenize=c;break}l=(k=="-")?l+1:0}return g("comment","comment")}function i(k){return function(o,m){var n=false,l;while((l=o.next())!=null){if(l==k&&!n){break}n=!n&&l=="\\"}if(!n){m.tokenize=c}return g("string","string")}}return{startState:function(k){return{tokenize:c,baseIndent:k||0,stack:[]}},token:function(n,m){if(n.eatSpace()){return null}var l=m.tokenize(n,m);var k=m.stack[m.stack.length-1];if(h=="hash"&&k!="rule"){l="string-2"}else{if(l=="variable"){if(k=="rule"){l=e[n.current()]?"keyword":"number"}else{if(!k||k=="@media{"){l="tag"}}}}if(k=="rule"&&/^[\{\};]$/.test(h)){m.stack.pop()}if(h=="{"){if(k=="@media"){m.stack[m.stack.length-1]="@media{"}else{m.stack.push("{")}}else{if(h=="}"){m.stack.pop()}else{if(h=="@media"){m.stack.push("@media")}else{if(k=="{"&&h!="comment"){m.stack.push("rule")}}}}return l},indent:function(l,k){var m=l.stack.length;if(/^\}/.test(k)){m-=l.stack[l.stack.length-1]=="rule"?2:1}return l.baseIndent+m*f},electricChars:"}"}});CodeMirror.defineMIME("text/css","css");CodeMirror.defineMode("htmlmixed",function(b,d){var a=CodeMirror.getMode(b,{name:"xml",htmlMode:true});var c=CodeMirror.getMode(b,"javascript");var i=CodeMirror.getMode(b,"css");function e(l,k){var j=a.token(l,k.htmlState);if(j=="tag"&&l.current()==">"&&k.htmlState.context){if(/^script$/i.test(k.htmlState.context.tagName)){k.token=h;k.localState=c.startState(a.indent(k.htmlState,""));k.mode="javascript"}else{if(/^style$/i.test(k.htmlState.context.tagName)){k.token=f;k.localState=i.startState(a.indent(k.htmlState,""));k.mode="css"}}}return j}function g(n,j,k){var m=n.current();var l=m.search(j);if(l>-1){n.backUp(m.length-l)}return k}function h(k,j){if(k.match(/^<\/\s*script\s*>/i,false)){j.token=e;j.localState=null;j.mode="html";return e(k,j)}return g(k,/<\/\s*script\s*>/,c.token(k,j.localState))}function f(k,j){if(k.match(/^<\/\s*style\s*>/i,false)){j.token=e;j.localState=null;j.mode="html";return e(k,j)}return g(k,/<\/\s*style\s*>/,i.token(k,j.localState))}return{startState:function(){var j=a.startState();return{token:e,localState:null,mode:"html",htmlState:j}},copyState:function(k){if(k.localState){var j=CodeMirror.copyState(k.token==f?i:c,k.localState)}return{token:k.token,localState:j,mode:k.mode,htmlState:CodeMirror.copyState(a,k.htmlState)}},token:function(k,j){return j.token(k,j)},indent:function(k,j){if(k.token==e||/^\s*<\//.test(j)){return a.indent(k.htmlState,j)}else{if(k.token==h){return c.indent(k.localState,j)}else{return i.indent(k.localState,j)}}},compareStates:function(k,j){if(k.mode!=j.mode){return false}if(k.localState){return CodeMirror.Pass}return a.compareStates(k.htmlState,j.htmlState)},electricChars:"/{}:"}},"xml","javascript","css");CodeMirror.defineMIME("text/html","htmlmixed");CodeMirror.defineMode("javascript",function(I,M){var v=I.indentUnit;var Q=M.json;var b=function(){function W(Z){return{type:Z,style:"keyword"}}var T=W("keyword a"),Y=W("keyword b"),X=W("keyword c");var U=W("operator"),V={type:"atom",style:"atom"};return{"if":T,"while":T,"with":T,"else":Y,"do":Y,"try":Y,"finally":Y,"return":X,"break":X,"continue":X,"new":X,"delete":X,"throw":X,"var":W("var"),"const":W("var"),let:W("var"),"function":W("function"),"catch":W("catch"),"for":W("for"),"switch":W("switch"),"case":W("case"),"default":W("default"),"in":U,"typeof":U,"instanceof":U,"true":V,"false":V,"null":V,"undefined":V,"NaN":V,"Infinity":V}}();var N=/[+\-*&%=<>!?|]/;function R(V,U,T){U.tokenize=T;return T(V,U)}function h(W,T){var V=false,U;while((U=W.next())!=null){if(U==T&&!V){return false}V=!V&&U=="\\"}return V}var S,p;function B(V,U,T){S=V;p=T;return U}function l(X,V){var T=X.next();if(T=='"'||T=="'"){return R(X,V,z(T))}else{if(/[\[\]{}\(\),;\:\.]/.test(T)){return B(T)}else{if(T=="0"&&X.eat(/x/i)){X.eatWhile(/[\da-f]/i);return B("number","number")}else{if(/\d/.test(T)||T=="-"&&X.eat(/\d/)){X.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return B("number","number")}else{if(T=="/"){if(X.eat("*")){return R(X,V,f)}else{if(X.eat("/")){X.skipToEnd();return B("comment","comment")}else{if(V.reAllowed){h(X,"/");X.eatWhile(/[gimy]/);return B("regexp","string-2")}else{X.eatWhile(N);return B("operator",null,X.current())}}}}else{if(T=="#"){X.skipToEnd();return B("error","error")}else{if(N.test(T)){X.eatWhile(N);return B("operator",null,X.current())}else{X.eatWhile(/[\w\$_]/);var W=X.current(),U=b.propertyIsEnumerable(W)&&b[W];return(U&&V.kwAllowed)?B(U.type,U.style,W):B("variable","variable",W)}}}}}}}}function z(T){return function(V,U){if(!h(V,T)){U.tokenize=l}return B("string","string")}}function f(W,V){var T=false,U;while(U=W.next()){if(U=="/"&&T){V.tokenize=l;break}T=(U=="*")}return B("comment","comment")}var k={atom:true,number:true,variable:true,string:true,regexp:true};function t(Y,U,T,X,V,W){this.indented=Y;this.column=U;this.type=T;this.prev=V;this.info=W;if(X!=null){this.align=X}}function w(V,U){for(var T=V.localVars;T;T=T.next){if(T.name==U){return true}}}function E(X,U,T,W,Y){var Z=X.cc;u.state=X;u.stream=Y;u.marked=null,u.cc=Z;if(!X.lexical.hasOwnProperty("align")){X.lexical.align=true}while(true){var V=Z.length?Z.pop():Q?x:y;if(V(T,W)){while(Z.length&&Z[Z.length-1].lex){Z.pop()()}if(u.marked){return u.marked}if(T=="variable"&&w(X,W)){return"variable-2"}return U}}}var u={state:null,column:null,marked:null,cc:null};function a(){for(var T=arguments.length-1;T>=0;T--){u.cc.push(arguments[T])}}function G(){a.apply(null,arguments);return true}function m(U){var V=u.state;if(V.context){u.marked="def";for(var T=V.localVars;T;T=T.next){if(T.name==U){return}}V.localVars={name:U,next:V.localVars}}}var D={name:"this",next:{name:"arguments"}};function s(){if(!u.state.context){u.state.localVars=D}u.state.context={prev:u.state.context,vars:u.state.localVars}}function r(){u.state.localVars=u.state.context.vars;u.state.context=u.state.context.prev}function j(U,V){var T=function(){var W=u.state;W.lexical=new t(W.indented,u.stream.column(),U,null,W.lexical,V)};T.lex=true;return T}function F(){var T=u.state;if(T.lexical.prev){if(T.lexical.type==")"){T.indented=T.lexical.indented}T.lexical=T.lexical.prev}}F.lex=true;function c(U){return function T(V){if(V==U){return G()}else{if(U==";"){return a()}else{return G(arguments.callee)}}}}function y(T){if(T=="var"){return G(j("vardef"),J,c(";"),F)}if(T=="keyword a"){return G(j("form"),x,y,F)}if(T=="keyword b"){return G(j("form"),y,F)}if(T=="{"){return G(j("}"),n,F)}if(T==";"){return G()}if(T=="function"){return G(i)}if(T=="for"){return G(j("form"),c("("),j(")"),g,c(")"),F,y,F)}if(T=="variable"){return G(j("stat"),C)}if(T=="switch"){return G(j("form"),x,j("}","switch"),c("{"),n,F,F)}if(T=="case"){return G(x,c(":"))}if(T=="default"){return G(c(":"))}if(T=="catch"){return G(j("form"),s,c("("),q,c(")"),y,F,r)}return a(j("stat"),x,c(";"),F)}function x(T){if(k.hasOwnProperty(T)){return G(L)}if(T=="function"){return G(i)}if(T=="keyword c"){return G(A)}if(T=="("){return G(j(")"),A,c(")"),F,L)}if(T=="operator"){return G(x)}if(T=="["){return G(j("]"),O(x,"]"),F,L)}if(T=="{"){return G(j("}"),O(o,"}"),F,L)}return G()}function A(T){if(T.match(/[;\}\)\],]/)){return a()}return a(x)}function L(T,U){if(T=="operator"&&/\+\+|--/.test(U)){return G(L)}if(T=="operator"&&U=="?"){return G(x,c(":"),x)}if(T==";"){return}if(T=="("){return G(j(")"),O(x,")"),F,L)}if(T=="."){return G(P,L)}if(T=="["){return G(j("]"),x,c("]"),F,L)}}function C(T){if(T==":"){return G(F,y)}return a(L,c(";"),F)}function P(T){if(T=="variable"){u.marked="property";return G()}}function o(T){if(T=="variable"){u.marked="property"}if(k.hasOwnProperty(T)){return G(c(":"),x)}}function O(V,T){function U(X){if(X==","){return G(V,U)}if(X==T){return G()}return G(c(T))}return function W(X){if(X==T){return G()}else{return a(V,U)}}}function n(T){if(T=="}"){return G()}return a(y,n)}function J(T,U){if(T=="variable"){m(U);return G(H)}return G()}function H(T,U){if(U=="="){return G(x,H)}if(T==","){return G(J)}}function g(T){if(T=="var"){return G(J,e)}if(T==";"){return a(e)}if(T=="variable"){return G(K)}return a(e)}function K(T,U){if(U=="in"){return G(x)}return G(L,e)}function e(T,U){if(T==";"){return G(d)}if(U=="in"){return G(x)}return G(x,c(";"),d)}function d(T){if(T!=")"){G(x)}}function i(T,U){if(T=="variable"){m(U);return G(i)}if(T=="("){return G(j(")"),s,O(q,")"),F,y,r)}}function q(T,U){if(T=="variable"){m(U);return G()}}return{startState:function(T){return{tokenize:l,reAllowed:true,kwAllowed:true,cc:[],lexical:new t((T||0)-v,0,"block",false),localVars:M.localVars,context:M.localVars&&{vars:M.localVars},indented:0}},token:function(V,U){if(V.sol()){if(!U.lexical.hasOwnProperty("align")){U.lexical.align=false}U.indented=V.indentation()}if(V.eatSpace()){return null}var T=U.tokenize(V,U);if(S=="comment"){return T}U.reAllowed=!!(S=="operator"||S=="keyword c"||S.match(/^[\[{}\(,;:]$/));U.kwAllowed=S!=".";return E(U,T,S,p,V)},indent:function(Y,T){if(Y.tokenize!=l){return 0}var X=T&&T.charAt(0),V=Y.lexical;if(V.type=="stat"&&X=="}"){V=V.prev}var W=V.type,U=X==W;if(W=="vardef"){return V.indented+4}else{if(W=="form"&&X=="{"){return V.indented}else{if(W=="stat"||W=="form"){return V.indented+v}else{if(V.info=="switch"&&!U){return V.indented+(/^(?:case|default)\b/.test(T)?v:2*v)}else{if(V.align){return V.column+(U?0:1)}else{return V.indented+(U?0:v)}}}}}},electricChars:":{}"}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});CodeMirror.defineMode("liquid",function(a,c){var b={token:function(e,d){if(e.match("{{")){while((ch=e.next())!=null){if(ch=="}"&&e.next()=="}"){break}}return"liquid-variable"}if(e.match("{%")){while((ch=e.next())!=null){if(ch=="%"&&e.next()=="}"){break}}return"liquid-tag"}while(e.next()!=null&&!e.match("{{",false)&&!e.match("{%",false)){}return null}};return CodeMirror.overlayMode(CodeMirror.getMode(a,c.backdrop||"text/html"),b)});CodeMirror.defineMode("xml",function(y,k){var r=y.indentUnit;var x=k.htmlMode?{autoSelfClosers:{area:true,base:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true},implicitlyClosed:{dd:true,li:true,optgroup:true,option:true,p:true,rp:true,rt:true,tbody:true,td:true,tfoot:true,th:true,tr:true},contextGrabbers:{dd:{dd:true,dt:true},dt:{dd:true,dt:true},li:{li:true},option:{option:true,optgroup:true},optgroup:{optgroup:true},p:{address:true,article:true,aside:true,blockquote:true,dir:true,div:true,dl:true,fieldset:true,footer:true,form:true,h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,header:true,hgroup:true,hr:true,menu:true,nav:true,ol:true,p:true,pre:true,section:true,table:true,ul:true},rp:{rp:true,rt:true},rt:{rp:true,rt:true},tbody:{tbody:true,tfoot:true},td:{td:true,th:true},tfoot:{tbody:true},th:{td:true,th:true},thead:{tbody:true,tfoot:true},tr:{tr:true}},doNotIndent:{pre:true},allowUnquoted:true,allowMissing:true}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:false,allowMissing:false};var a=k.alignCDATA;var f,g;function o(E,D){function B(G){D.tokenize=G;return G(E,D)}var C=E.next();if(C=="<"){if(E.eat("!")){if(E.eat("[")){if(E.match("CDATA[")){return B(w("atom","]]>"))}else{return null}}else{if(E.match("--")){return B(w("comment","-->"))}else{if(E.match("DOCTYPE",true,true)){E.eatWhile(/[\w\._\-]/);return B(z(1))}else{return null}}}}else{if(E.eat("?")){E.eatWhile(/[\w\._\-]/);D.tokenize=w("meta","?>");return"meta"}else{g=E.eat("/")?"closeTag":"openTag";E.eatSpace();f="";var F;while((F=E.eat(/[^\s\u00a0=<>\"\'\/?]/))){f+=F}D.tokenize=n;return"tag"}}}else{if(C=="&"){var A;if(E.eat("#")){if(E.eat("x")){A=E.eatWhile(/[a-fA-F\d]/)&&E.eat(";")}else{A=E.eatWhile(/[\d]/)&&E.eat(";")}}else{A=E.eatWhile(/[\w\.\-:]/)&&E.eat(";")}return A?"atom":"error"}else{E.eatWhile(/[^&<]/);return null}}}function n(C,B){var A=C.next();if(A==">"||(A=="/"&&C.eat(">"))){B.tokenize=o;g=A==">"?"endTag":"selfcloseTag";return"tag"}else{if(A=="="){g="equals";return null}else{if(/[\'\"]/.test(A)){B.tokenize=j(A);return B.tokenize(C,B)}else{C.eatWhile(/[^\s\u00a0=<>\"\'\/?]/);return"word"}}}}function j(A){return function(C,B){while(!C.eol()){if(C.next()==A){B.tokenize=n;break}}return"string"}}function w(B,A){return function(D,C){while(!D.eol()){if(D.match(A)){C.tokenize=o;break}D.next()}return B}}function z(A){return function(D,C){var B;while((B=D.next())!=null){if(B=="<"){C.tokenize=z(A+1);return C.tokenize(D,C)}else{if(B==">"){if(A==1){C.tokenize=o;break}else{C.tokenize=z(A-1);return C.tokenize(D,C)}}}}return"meta"}}var l,h;function b(){for(var A=arguments.length-1;A>=0;A--){l.cc.push(arguments[A])}}function e(){b.apply(null,arguments);return true}function i(A,C){var B=x.doNotIndent.hasOwnProperty(A)||(l.context&&l.context.noIndent);l.context={prev:l.context,tagName:A,indent:l.indented,startOfLine:C,noIndent:B}}function u(){if(l.context){l.context=l.context.prev}}function d(A){if(A=="openTag"){l.tagName=f;return e(m,c(l.startOfLine))}else{if(A=="closeTag"){var B=false;if(l.context){if(l.context.tagName!=f){if(x.implicitlyClosed.hasOwnProperty(l.context.tagName.toLowerCase())){u()}B=!l.context||l.context.tagName!=f}}else{B=true}if(B){h="error"}return e(s(B))}}return e()}function c(A){return function(B){if(B=="selfcloseTag"||(B=="endTag"&&x.autoSelfClosers.hasOwnProperty(l.tagName.toLowerCase()))){q(l.tagName.toLowerCase());return e()}if(B=="endTag"){q(l.tagName.toLowerCase());i(l.tagName,A);return e()}return e()}}function s(A){return function(B){if(A){h="error"}if(B=="endTag"){u();return e()}h="error";return e(arguments.callee)}}function q(B){var A;while(true){if(!l.context){return}A=l.context.tagName.toLowerCase();if(!x.contextGrabbers.hasOwnProperty(A)||!x.contextGrabbers[A].hasOwnProperty(B)){return}u()}}function m(A){if(A=="word"){h="attribute";return e(p,m)}if(A=="endTag"||A=="selfcloseTag"){return b()}h="error";return e(m)}function p(A){if(A=="equals"){return e(v,m)}if(!x.allowMissing){h="error"}return(A=="endTag"||A=="selfcloseTag")?b():e()}function v(A){if(A=="string"){return e(t)}if(A=="word"&&x.allowUnquoted){h="string";return e()}h="error";return(A=="endTag"||A=="selfCloseTag")?b():e()}function t(A){if(A=="string"){return e(t)}else{return b()}}return{startState:function(){return{tokenize:o,cc:[],indented:0,startOfLine:true,tagName:null,context:null}},token:function(D,C){if(D.sol()){C.startOfLine=true;C.indented=D.indentation()}if(D.eatSpace()){return null}h=g=f=null;var B=C.tokenize(D,C);C.type=g;if((B||g)&&B!="comment"){l=C;while(true){var A=C.cc.pop()||d;if(A(g||B)){break}}}C.startOfLine=false;return h||B},indent:function(D,A,C){var B=D.context;if((D.tokenize!=n&&D.tokenize!=o)||B&&B.noIndent){return C?C.match(/^(\s*)/)[0].length:0}if(a&&/<!\[CDATA\[/.test(A)){return 0}if(B&&/^<\//.test(A)){B=B.prev}while(B&&!B.startOfLine){B=B.prev}if(B){return B.indent+r}else{return 0}},compareStates:function(D,B){if(D.indented!=B.indented||D.tokenize!=B.tokenize){return false}for(var C=D.context,A=B.context;;C=C.prev,A=A.prev){if(!C||!A){return C==A}if(C.tagName!=A.tagName||C.indent!=A.indent){return false}}},electricChars:"/"}});CodeMirror.defineMIME("text/xml","xml");CodeMirror.defineMIME("application/xml","xml");if(!CodeMirror.mimeModes.hasOwnProperty("text/html")){CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:true})}(function(){var d=2;function c(){this.marked=[]}function a(f){return f._matchHighlightState||(f._matchHighlightState=new c())}function e(f){var h=a(f);for(var g=0;g<h.marked.length;++g){h.marked[g].clear()}h.marked=[]}function b(f,g,h){e(f);h=(typeof h!=="undefined"?h:d);if(f.somethingSelected()&&f.getSelection().replace(/^\s+|\s+$/g,"").length>=h){var j=a(f);var i=f.getSelection();f.operation(function(){if(f.lineCount()<2000){for(var k=f.getSearchCursor(i);k.findNext();){if(!(k.from().line===f.getCursor(true).line&&k.from().ch===f.getCursor(true).ch)){j.marked.push(f.markText(k.from(),k.to(),g))}}}})}}CodeMirror.defineExtension("matchHighlight",function(f,g){b(this,f,g)})})();CodeMirror.overlayMode=CodeMirror.overlayParser=function(b,a,c){return{startState:function(){return{base:CodeMirror.startState(b),overlay:CodeMirror.startState(a),basePos:0,baseCur:null,overlayPos:0,overlayCur:null}},copyState:function(d){return{base:CodeMirror.copyState(b,d.base),overlay:CodeMirror.copyState(a,d.overlay),basePos:d.basePos,baseCur:null,overlayPos:d.overlayPos,overlayCur:null}},token:function(e,d){if(e.start==d.basePos){d.baseCur=b.token(e,d.base);d.basePos=e.pos}if(e.start==d.overlayPos){e.pos=e.start;d.overlayCur=a.token(e,d.overlay);d.overlayPos=e.pos}e.pos=Math.min(d.basePos,d.overlayPos);if(e.eol()){d.basePos=d.overlayPos=0}if(d.overlayCur==null){return d.baseCur}if(d.baseCur!=null&&c){return d.baseCur+" "+d.overlayCur}else{return d.overlayCur}},indent:b.indent&&function(e,d){return b.indent(e.base,d)},electricChars:b.electricChars}};(function(){function a(b,e,g,d){this.atOccurrence=false;this.cm=b;if(d==null&&typeof e=="string"){d=false}g=g?b.clipPos(g):{line:0,ch:0};this.pos={from:g,to:g};if(typeof e!="string"){if(!e.global){e=new RegExp(e.source,e.ignoreCase?"ig":"g")}this.matches=function(j,m){if(j){e.lastIndex=0;var h=b.getLine(m.line).slice(0,m.ch),i=e.exec(h),l=0;while(i){l+=i.index;h=h.slice(i.index);e.lastIndex=0;var k=e.exec(h);if(k){i=k}else{break}l++}}else{e.lastIndex=m.ch;var h=b.getLine(m.line),i=e.exec(h),l=i&&i.index}if(i){return{from:{line:m.line,ch:l},to:{line:m.line,ch:l+i[0].length},match:i}}}}else{if(d){e=e.toLowerCase()}var c=d?function(h){return h.toLowerCase()}:function(h){return h};var f=e.split("\n");if(f.length==1){this.matches=function(k,l){var i=c(b.getLine(l.line)),h=e.length,j;if(k?(l.ch>=h&&(j=i.lastIndexOf(e,l.ch-h))!=-1):(j=i.indexOf(e,l.ch))!=-1){return{from:{line:l.line,ch:j},to:{line:l.line,ch:j+h}}}}}else{this.matches=function(m,o){var n=o.line,p=(m?f.length-1:0),k=f[p],q=c(b.getLine(n));var l=(m?q.indexOf(k)+k.length:q.lastIndexOf(k));if(m?l>=o.ch||l!=k.length:l<=o.ch||l!=q.length-k.length){return}for(;;){if(m?!n:n==b.lineCount()-1){return}q=c(b.getLine(n+=m?-1:1));k=f[m?--p:++p];if(p>0&&p<f.length-1){if(q!=k){return}else{continue}}var j=(m?q.lastIndexOf(k):q.indexOf(k)+k.length);if(m?j!=q.length-k.length:j!=k.length){return}var h={line:o.line,ch:l},i={line:n,ch:j};return{from:m?i:h,to:m?h:i}}}}}}a.prototype={findNext:function(){return this.find(false)},findPrevious:function(){return this.find(true)},find:function(c){var b=this,f=this.cm.clipPos(c?this.pos.from:this.pos.to);function d(g){var h={line:g,ch:0};b.pos={from:h,to:h};b.atOccurrence=false;return false}for(;;){if(this.pos=this.matches(c,f)){this.atOccurrence=true;return this.pos.match||true}if(c){if(!f.line){return d(0)}f={line:f.line-1,ch:this.cm.getLine(f.line-1).length}}else{var e=this.cm.lineCount();if(f.line==e-1){return d(e)}f={line:f.line+1,ch:0}}}},from:function(){if(this.atOccurrence){return this.pos.from}},to:function(){if(this.atOccurrence){return this.pos.to}},replace:function(c){var b=this;if(this.atOccurrence){b.pos.to=this.cm.replaceRange(c,b.pos.from,b.pos.to)}}};CodeMirror.defineExtension("getSearchCursor",function(c,d,b){return new a(this,c,d,b)})})();