(function(){var m=window.document,r={1:"top",2:"right",3:"bottom",4:"left",top:"top",right:"right",bottom:"bottom",left:"left"},i=/^[a-zA-Z]+:\/\//,g=2,d={widgetId:0,buttonText:"Support",buttonBg:"#7eb600",buttonColor:"white",backgroundImage:null,alignment:"left",offset:"35%",url:"http://support.freshdesk.com",assetUrl:"https://s3.amazonaws.com/assets.freshdesk.com/widget",queryString:"",formHeight:"500px",responsive:"",widgetType:"popup"},o,y=null;$widget_attr={button:null,dialog:null,container:null,overlay:null,iframe:null,iframeLoaded:false,closeButton:null,mobileCloseButton:null,};console.log($widget_attr);function w(B){try{return B()}catch(C){if(window.console&&window.console.log&&window.console.log.apply){window.console.log("Freshdesk Error: ",C)}}}var a={Version:function(){var B=999;if(navigator.appVersion.indexOf("MSIE")!=-1){B=parseFloat(navigator.appVersion.split("MSIE")[1])}return B}};function n(B){if(B&&!(i.test(B))){return m.location.protocol+"//"+B}else{return B}}function s(B){var C=m.createElement("link");C.setAttribute("rel","stylesheet");C.setAttribute("type","text/css");C.setAttribute("href",B);if(typeof C!="undefined"){m.getElementsByTagName("head")[0].appendChild(C)}}function v(B){var C=m.createElement("script");C.setAttribute("type","text/javascript");C.setAttribute("src",B);if(typeof C!="undefined"){m.getElementsByTagName("head")[0].appendChild(C)}}function A(C,B,D){if(C&&C.addEventListener){C.addEventListener(B,D,false)}else{if(C&&C.attachEvent){C.attachEvent("on"+B,D)}}}function t(B){var C;for(C in B){if(d.hasOwnProperty(C)){if(C==="url"||C==="assetUrl"){d[C]=n(B[C])}else{d[C]=B[C]}}}}function z(D){url=D.src;var C=window.navigator&&window.navigator.appVersion.split("MSIE");var B=parseFloat(C[1]);if((B>=5.5)&&(B<7)&&(m.body.filters)){D.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+url+"', sizingMethod='crop')"}else{D.style.backgroundImage="url("+url+")"}return D}function p(){if($widget_attr.button==null&&d.widgetType=="popup"){class_name=r[d.alignment]||"left";$widget_attr.button=m.createElement("div");$widget_attr.button.setAttribute("id","freshwidget-button");$widget_attr.button.style.display="none";$widget_attr.button.className="freshwidget-button fd-btn-"+class_name;if(a.Version()<=10){$widget_attr.button.className+=" ie"+a.Version()}link=m.createElement("a");link.setAttribute("href","javascript:void(0)");text=null;proxyLink=m.createElement("a");proxyLink.setAttribute("href","javascript:void(0)");if(d.backgroundImage==null||d.backgroundImage==""){link.className="freshwidget-theme";link.style.color=d.buttonColor;link.style.backgroundColor=d.buttonBg;link.style.borderColor=d.buttonColor;proxyLink.className="proxy-link";text=m.createTextNode(d.buttonText)}else{link.className="freshwidget-customimage";text=m.createElement("img");text.src=d.backgroundImage;text=z(text)}if(class_name=="top"||class_name=="bottom"){$widget_attr.button.style.left=d.offset}else{$widget_attr.button.style.top=d.offset}m.body.insertBefore($widget_attr.button,m.body.childNodes[0]);$widget_attr.button.appendChild(link);link.appendChild(text);if((d.backgroundImage==null||d.backgroundImage=="")&&(a.Version()<=10)){$widget_attr.button.appendChild(proxyLink);A(proxyLink,"click",function(){window.FreshWidget.show()});proxyLink.style.height=link.offsetHeight+"px";proxyLink.style.width=link.offsetWidth+"px"}A(link,"click",function(){window.FreshWidget.show()})}}function b(){if($widget_attr.button!=null){m.body.removeChild($widget_attr.button);$widget_attr.button=null}}function f(){if($widget_attr.container!=null){m.body.removeChild($widget_attr.container);$widget_attr.container=null}}function h(){if($widget_attr.container==null){$widget_attr.container=m.createElement("div");$widget_attr.container.className="freshwidget-$widget_attr.container";$widget_attr.container.id="FreshWidget";if(d.responsive==""){$widget_attr.container.className+=" responsive"}$widget_attr.container.style.display="none";m.body.insertBefore($widget_attr.container,m.body.childNodes[0]);$widget_attr.container.innerHTML='<div class="widget-ovelay" id="freshwidget-overlay">&nbsp;</div><div class="freshwidget-dialog" id="freshwidget-dialog"> <img id="freshwidget-close" class="widget-close" src="'+d.assetUrl+"/widget_close.png?ver="+g+'" /><div class="mobile-widget-close" id="mobile-widget-close"></div> <div class="frame-container"> 	<iframe id="freshwidget-frame" src="about:blank" frameborder="0" scrolling="auto" allowTransparency="true" style="height: '+d.formHeight+'"/> </div>';"</div>";$widget_attr.container=m.getElementById("FreshWidget");$widget_attr.closeButton=m.getElementById("freshwidget-close");$widget_attr.closeButton=z($widget_attr.closeButton);$widget_attr.mobileCloseButton=m.getElementById("mobile-widget-close");$widget_attr.dialog=m.getElementById("freshwidget-dialog");$widget_attr.iframe=m.getElementById("freshwidget-frame");$widget_attr.overlay=m.getElementById("freshwidget-overlay");$widget_attr.dialog.appendChild($widget_attr.iframe);x();A($widget_attr.closeButton,"click",function(){window.FreshWidget.close()});A($widget_attr.mobileCloseButton,"click",function(){window.FreshWidget.close()});A($widget_attr.overlay,"click",function(){window.FreshWidget.close()});A($widget_attr.iframe,"load",function(){if(!$widget_attr.iframeLoaded&&$widget_attr.iframe.src.indexOf("/widgets/feedback_widget/new?")!=-1){$widget_attr.iframeLoaded=true}})}}function x(){$widget_attr.iframe.src=d.url+"/loading.html?ver="+g}function q(){$widget_attr.iframe.src=d.url+"/widgets/feedback_widget/new?"+d.queryString}function j(){scroll(0,0);$widget_attr.container.style.display="block";if(!d.responsive){m.body.style.overflow="hidden"}if(a.Version()>8){html2canvas([m.body],{ignoreIds:"FreshWidget|freshwidget-button",proxy:false,onrendered:function(C){var B=C.toDataURL();var D=B;sendMessage=setInterval(function(){if($widget_attr.iframeLoaded){m.getElementById("freshwidget-frame").contentWindow.postMessage(D,"*");clearInterval(sendMessage)}else{}},500)}})}if(!$widget_attr.iframeLoaded){q()}}function k(){$widget_attr.container.style.display="none";if(!d.responsive){m.body.style.overflow="auto"}q()}function c(B){t(B);if(window.location.protocol){d.assetUrl=(window.location.protocol=="https:")?"https://s3.amazonaws.com/assets.freshdesk.com/widget":"http://assets.freshdesk.com/widget"}if(a.Version()>8&&(typeof html2canvas==="undefined")){v(d.assetUrl+"/html2canvas.js?ver="+g)}A(window,"load",function(){p();h()});s(d.assetUrl+"/freshwidget.css?ver="+g)}function l(B){t(B);b();f();p();h()}function e(){b();f();delete window.FreshWidget}var u={init:function(B,C){w(function(){return c(C)})},show:function(){w(function(){return j()})},close:function(){w(function(){return k()})},iframe:function(){return $widget_attr.iframe},update:function(B){w(function(){return l(B)})},destroy:function(){w(function(){return e()})}};if(!window.FreshWidget){window.FreshWidget=u}})();