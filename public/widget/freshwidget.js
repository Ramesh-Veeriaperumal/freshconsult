(function(){var p=window.document,v={1:"top",2:"right",3:"bottom",4:"left",top:"top",right:"right",bottom:"bottom",left:"left"},j=/^[a-zA-Z]+:\/\//,h=2,f={widgetId:0,buttonText:"Support",buttonBg:"#7eb600",buttonColor:"white",backgroundImage:null,alignment:"left",offset:"35%",url:"http://support.freshdesk.com",assetUrl:"https://s3.amazonaws.com/assets.freshdesk.com/widget",queryString:"",formHeight:"500px",widgetType:"popup"},m,s,D,l,c,e,x,u;container=null;function B(G){try{return G()}catch(H){if(window.console&&window.console.log&&window.console.log.apply){window.console.log("Freshdesk Error: ",H)}}}var b={Version:function(){var G=999;if(navigator.appVersion.indexOf("MSIE")!=-1){G=parseFloat(navigator.appVersion.split("MSIE")[1])}return G}};function q(G){if(G&&!(j.test(G))){return p.location.protocol+"//"+G}else{return G}}function w(G){var H=p.createElement("link");H.setAttribute("rel","stylesheet");H.setAttribute("type","text/css");H.setAttribute("href",G);if(typeof H!="undefined"){p.getElementsByTagName("head")[0].appendChild(H)}}function A(G){var H=p.createElement("script");H.setAttribute("type","text/javascript");H.setAttribute("src",G);if(typeof H!="undefined"){p.getElementsByTagName("head")[0].appendChild(H)}}function F(H,G,I){if(H&&H.addEventListener){H.addEventListener(G,I,false)}else{if(H&&H.attachEvent){H.attachEvent("on"+G,I)}}}function y(G){var H;for(H in G){if(f.hasOwnProperty(H)){if(H==="url"||H==="assetUrl"){f[H]=q(G[H])}else{f[H]=G[H]}}}}function E(I){url=I.src;var H=window.navigator&&window.navigator.appVersion.split("MSIE");var G=parseFloat(H[1]);if((G>=5.5)&&(G<7)&&(p.body.filters)){I.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+url+"', sizingMethod='crop')"}else{I.style.backgroundImage="url("+url+")"}return I}function r(){if(c==null&&f.widgetType=="popup"){class_name=v[f.alignment]||"left";c=p.createElement("div");c.setAttribute("id","freshwidget-button");c.style.display="none";c.className="freshwidget-button fd-btn-"+class_name;if(b.Version()<=10){c.className+=" ie"+b.Version()}link=p.createElement("a");link.setAttribute("href","javascript:void(0)");text=null;proxyLink=p.createElement("a");proxyLink.setAttribute("href","javascript:void(0)");if(f.backgroundImage==null||f.backgroundImage==""){link.className="freshwidget-theme";link.style.color=f.buttonColor;link.style.backgroundColor=f.buttonBg;link.style.borderColor=f.buttonColor;proxyLink.className="proxy-link";text=p.createTextNode(f.buttonText)}else{link.className="freshwidget-customimage";text=p.createElement("img");text.src=f.backgroundImage;text=E(text)}if(class_name=="top"||class_name=="bottom"){c.style.left=f.offset}else{c.style.top=f.offset}p.body.insertBefore(c,p.body.childNodes[0]);c.appendChild(link);link.appendChild(text);if((f.backgroundImage==null||f.backgroundImage=="")&&(b.Version()<=10)){c.appendChild(proxyLink);F(proxyLink,"click",function(){window.FreshWidget.show()});proxyLink.style.height=link.offsetHeight+"px";proxyLink.style.width=link.offsetWidth+"px"}F(link,"click",function(){window.FreshWidget.show()})}}function a(){if(c!=null){p.body.removeChild(c);c=null}}function g(){if(container!=null){p.body.removeChild(container);container=null}}function i(){if(container==null){container=p.createElement("div");container.className="freshwidget-container";container.id="FreshWidget";container.style.display="none";p.body.insertBefore(container,p.body.childNodes[0]);container.innerHTML='<div class="widget-ovelay" id="freshwidget-overlay">&nbsp;</div><div class="freshwidget-dialog" id="freshwidget-dialog"> <img id="freshwidget-close" class="widget-close" src="'+f.assetUrl+"/widget_close.png?ver="+h+'" /> <div class="frame-container"> 	<iframe id="freshwidget-frame" src="about:blank" frameborder="0" scrolling="auto" allowTransparency="true" style="height: '+f.formHeight+'"/> </div>';"</div>";container=p.getElementById("FreshWidget");e=p.getElementById("freshwidget-close");e=E(e);u=p.getElementById("freshwidget-dialog");l=p.getElementById("freshwidget-frame");x=p.getElementById("freshwidget-overlay");u.appendChild(l);C();F(e,"click",function(){window.FreshWidget.close()});F(x,"click",function(){window.FreshWidget.close()});F(l,"load",function(){if(!m&&l.src.indexOf("/widgets/feedback_widget/new?")!=-1){m=true}})}}function C(){l.src=f.url+"/loading.html?ver="+h}function t(){l.src=f.url+"/widgets/feedback_widget/new?"+f.queryString}function k(){scroll(0,0);container.style.display="block";if(b.Version()>8){html2canvas([p.body],{ignoreIds:"FreshWidget|freshwidget-button",proxy:false,onrendered:function(H){var G=H.toDataURL();var I=G;sendMessage=setInterval(function(){if(m){p.getElementById("freshwidget-frame").contentWindow.postMessage(I,"*");clearInterval(sendMessage)}else{}},500)}})}if(!m){t()}}function n(){container.style.display="none";t()}function d(G){y(G);if(window.location.protocol){f.assetUrl=(window.location.protocol=="https:")?"https://s3.amazonaws.com/assets.freshdesk.com/widget":"http://assets.freshdesk.com/widget"}if(b.Version()>8&&(typeof html2canvas==="undefined")){A(f.assetUrl+"/html2canvas.js?ver="+h)}F(window,"load",function(){r();i()});w(f.assetUrl+"/freshwidget.css?ver="+h)}function o(G){y(G);a();g();r();i()}var z={init:function(G,H){B(function(){return d(H)})},show:function(){B(function(){return k()})},close:function(){B(function(){return n()})},iframe:function(){return l},update:function(G){B(function(){return o(G)})}};if(!window.FreshWidget){window.FreshWidget=z}})();