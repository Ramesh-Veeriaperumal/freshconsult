<%= javascript_tag do %>	
	jQuery(document).ready(function() {
		<%= yield :onload_script -%>
			
		// Setting the locale for moment js
		moment.lang('<%=I18n.locale.to_s.downcase%>');

		var validation_meassages = <%= I18n.translate('validation').to_json.html_safe %>	

		jQuery.extend(jQuery.validator.messages, validation_meassages );

		<% if flash[:highlight] %>
			var ele = jQuery("#<%= flash[:highlight] %>");
			if(ele.is('tr'))
				ele = ele.find('td');
			ele.addClass('record_highlight');
		<% end %>

		jQuery(".call_duration").each(function () {
			var format,time;
			if (jQuery(this).data("time") === undefined) { return; }
			time = jQuery(this).data("time");
			if (time>=3600) {
			 format = "hh:mm:ss";
			} else {
				format = "mm:ss";
			}
			jQuery(this).html(time.toTime(format));
		});
	});

	// Shortcuts variables
	var Shortcuts = <%= Shortcut::KEY_BINDINGS.to_json.html_safe %>;
	
	// Date formats
	var DATE_FORMATS = <%= AccountConstants::DATA_DATEFORMATS.to_json.html_safe %>;
<%- end -%>