<% content_for :layoutType do -%>ticket_list<%- end %>
<%= stylesheet_link_tag 'ui.daterangepicker' %>

<%= include_stylesheets :pattern %>
<%= include_stylesheets :reports %>
<%= include_javascripts :pattern  %>
<%= include_javascripts :reports  %>
<div id="loading-box" class="loading-box"></div>
<div class="row-fluid">
	<div class="span12 report-breadcrum-wrapper">
		<ul class="breadcrumb span8">
		  <li><a href="<%=reports_url%>"><%=t('adv_reports.glance.all_reports')%></a> <span class="divider">/</span></li>
		  <li><%=t('adv_reports.glance.report_view')%></li>
		</ul>
		<ul class="nav pull-right">
	       <li class=""><a href="#" class="proxy-generate-pdf" ><i class="reports-icon-download"></i><%=t('adv_reports.glance.download')%></a></li>
	      <li class="dropdown">
	        <a href="#" class="proxy-generate-pdf"><i class="reports-icon-print"></i><%=t('adv_reports.glance.print')%></a>
	      </li>
	    </ul>
	</div>
</div>
<div class="row-fluid">
	<div id="ticket-list-body-content"></div>
	<div class="report-left-filter hide" id="report-filter-edit">
		<div class="left-filter">    
		  <!-- <div> <a href="#" data-dismiss="slider">close</a> </div> -->
		  <%= render :partial => "reports/shared/filter_options", :locals => {:neglect_fields => [:responder_id,:group_id,:customer_id],:current_page => 'analysis_report', :action_url => reports_performance_analysis_reports_url}%>
		</div>
	</div>
</div>
<script type="text/javascript">
jQuery(document).ready(function(){
	jQuery("#submit").click(function(){
  
    jQuery('#sliding').click();
    jQuery("#loading-box").removeClass('hide');
    jQuery("#ticket-list-body-content").html("");
    jQuery('#report-filter-edit').hide();
    jQuery.ajax({
      url: '<%=reports_performance_analysis_reports_url%>/generate',
      type: "POST",
      dataType: "html",
      data: jQuery(".serialize").serializeArray(),
      success: function(data){
      	jQuery("#loading-box").addClass('hide');
        jQuery('#ticket-list-body-content').html(data);
      },
      error: function(data){
        jQuery('#ticket-list-body-content').html(data.statusText);
      }
    }); 

  });
  jQuery("#submit").click();
});
</script>
<%= javascript_include_tag  '/javascripts/report/date.js' %>
<%= javascript_include_tag  '/javascripts/report/daterangepicker.jQuery.js' %>