<div class="grid report">	
		<table width="100%">
			<tr>
			  <% @headers.each do |header|
				 	concat content_tag :th, h(Helpdesk::TimeSheet.report_list[header]), :class => header
				 end %>
			</tr>
			
	 	<% if @time_sheets.size > 0 %>
     		<%= render :partial => "time_sheet", :object => @time_sheets %>	
			<tr>
       			<th colspan="6"><%=t('helpdesk.time_sheets.report.total')%></th>
       			<th class="hours"><div id="totaltime"></div></th>
     		</tr>
	    <%else%>
		    <tr>
		    	<td colspan="7">		    		
					<div class="list-noinfo"><%=t('helpdesk.time_sheets.report.no_timeentry')%></div>
		    	</td>		      
			</tr>
		<%end%>
     
   </table>
   <% javascript_tag do%>
   	 try{
   	   total_mins = $$("strong.group_time")
	 					.collect(function(t){ return t.innerHTML })
						.inject(0, function(acc, n){
							hm = n.split(':');
							return parseInt(acc) + hm[0]*60 + parseInt(hm[1]);
						});
		hours = parseInt(total_mins/60);
		mins = total_mins%60;						
	   $("totaltime").innerHTML = sprintf( "%f:%02f", hours, mins);
	  }catch(e){}	 
   <% end %>	
</div>
