<div class="report-page" id="report-page">
  <div class="report-content-wrapper">
    <!--report header-->
    <%= render :partial => "reports/shared/report_view_header", :locals => {} %>

    <div class="row-fluid">
      <div class="span12">
        <h3 class="header-lead">
          <span><%=t('adv_reports.load.recived_resolved_backlog')%></span>
          <a class="report-help-icon tooltip" title='<%=t("adv_reports.helptext.glance.how_to_read")%>' href="<%=@solution_artical_link%>" target="_blank">?</a>
        </h3>
        <div id="received_resolved_backlog_line_chart" class="single-stacked-bar" style="height:250px;"><div class="noinfo"><%=t('adv_reports.no_data_to_display_msg')%></div></div>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span12">
        <h3 class="header-lead">
          <span><%=t('reports.pie_chart_title_prefix')%>&nbsp;<%=t('filter_options.source')%></span>
          <a class="report-help-icon tooltip" title='<%=t("adv_reports.helptext.glance.how_to_read")%>' href="<%=@solution_artical_link%>" target="_blank">?</a>
        </h3>
        <div id="tickets_by_source_line_chart" class="single-stacked-bar" style="height:250px;"><div class="noinfo"><%=t('adv_reports.no_data_to_display_msg')%></div></div>
      </div>
    </div>
    <div class="row-fluid">
      <div class="span12">
        <h3 class="header-lead">
          <span><%=t('reports.pie_chart_title_prefix')%>&nbsp;<%=t('adv_reports.load.time_of_arrival')%></span>
          <a class="report-help-icon tooltip" title='<%=t("adv_reports.helptext.glance.how_to_read")%>' href="<%=@solution_artical_link%>" target="_blank">?</a>
        </h3>
        <div id="tickets_by_arrival_bar_chart" class="single-stacked-bar" style="height:400px;"><div class="noinfo"><%=t('adv_reports.no_data_to_display_msg')%></div></div>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript">
var data_obj = <%=@data_obj.to_json%>
jQuery('#sliding').slide();
jQuery(document).ready(function() {
  var analysis_1_lineChart = new lineChart(
      {renderTo: 'received_resolved_backlog_line_chart',
       chartData:[data_obj['received_tickets'],data_obj['resolved_tickets'],data_obj['backlog_tickets']],
       yAxisTitle:'<%=t("adv_reports.load.num_of_tickets")%>'}
    );
  analysis_1_lineChart.lineChartGraph();
  
  var analysis_2_lineChart = new lineChart(
      {renderTo: 'tickets_by_source_line_chart',
       chartData:data_obj['tickets_by_source'],
       yAxisTitle:'<%=t("adv_reports.load.num_of_tickets")%>'}
    );
  analysis_2_lineChart.lineChartGraph();
  var analysis_3_barChart = new xaxis_bar_chart(
      {renderTo: 'tickets_by_arrival_bar_chart',
       chartData:[<%=@data_obj.fetch('tickets_by_arrival')['received'].to_json%>,
                  <%=@data_obj.fetch('tickets_by_arrival')['resolved'].to_json%>],
       yAxis_label:'<%=t("adv_reports.load.num_of_tickets")%>',
       xAxisLabel:['00','01','02','03','04','05','06','07','08','09','10','11','12','13','14','15','16','17','18','19','20','21','22','23'],
       toolTipLabel: '<%=t("adv_reports.tickets")%>',
       isPDF: false,
       chart_width:jQuery("#tickets_by_arrival_bar_chart").width()}
      );
    analysis_3_barChart.xaxisbarGraph();
});
</script>