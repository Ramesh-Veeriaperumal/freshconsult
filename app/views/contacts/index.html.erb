<%= include_cloudfront_css :pattern %>
<%= include_cloudfront_js :pattern %>
<div class="cust_list_table" id="contacts-page">
	<% content_for :sidebar do %>
	<div class="sidepanel">
		<h3 class="title"><%=t('contacts.quick_contact')%></h3>	
		<% form_tag :url  => contacts_path, :method => :post do %>
		<%= error_messages_for :user %> 	
		<ul class="ui-form">
			<li> 
				<label for="user_name"><%=t('user.full_name')%></label> 
				<input class="text required" id="user_name" name="user[name]" size="30" type="text" value="" /> 
			</li> 
			<li>
				<label for="email_primary"><%=t('user.email')%></label> 
				<input class="require_from_group user_info email" id="email_primary" name="user[email]" size="30" type="text" />
			</li>
			<li>
				<label for="user_phone"><%=t('user.phone_no')%></label> 
				<input class="require_from_group user_info text" id="phone_work" name="user[phone]" size="30" 
				type="text" /> 
			</li>
			<%= hidden_field(:user, :user_role, :id=>"user_role", :value => User::USER_ROLES_KEYS_BY_TOKEN[:customer] ) %>
		</ul>
	  <div class="button-container"><%= submit_tag t('create'), :class => "uiButton small" %></div>
	<% end %>
	</div>
	<div id="contact_tag_cloud" class="sidepanel">
	<h3 class="title"><%=t('contacts.tag_cloud')%></h3>
		<%= render :partial => "/helpdesk/tags/tag_cloud", :object => @tags %>
	</div>
	<%end%>
    <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade active in" id="home">
            	<div id="cust-list">
            		<%= render(:partial => '/shared/companyheader', :locals => {:type => "user", :path => contacts_path}) %>
	            	<%= render(:partial => '/shared/company_sub_header', :locals => {:type => "user"}) %>
	            	<% form_tag "", { :id => "contacts-expanded", :method => :put } do %>
		        		<% if @contacts.present? %>
					        <div class="cust_list_table_body">
					        	<!-- Add content here for top of the table-->
					        	<%= render(:partial => '/shared/customers_toolbar', :locals => {:path => contacts_path}) %>
					        		<table class="table table-striped" id = "contacts-table">
										<%= render :partial => "contact", :collection => @contacts %> 
									</table>  
									<%= will_paginate @contacts, :renderer => BootstrapPaginationRenderer, 
							        				:previous_label => "<b class='arrow-left'></b>",
							        				:next_label => "<b class='arrow-right'></b>",
							        				:class => "pagination pagination-centered" %>
						    </div>
					    <% else %>
							<div class="big-info">
								<div class="no-info-text">
									<% if params[:state].blank? or params[:state].eql?('verified') or 
																							params[:state].eql?('all')%>
										<%= t('contacts.verified.no_contacts_with_letter', :alphabet => params[:letter]) if !params[:letter].blank? %>
										<% if params[:letter].blank? %>
											<%= t('contacts.verified.no_contacts') %><br />
											<span class="small">Create a <a href= "/contacts/new" >new contact</a></span>
										<% end %>
									<% elsif params[:state].eql?('deleted') %>
									   <%= t('contacts.deleted.no_contacts_with_letter', :alphabet => params[:letter]) if !params[:letter].blank? %>
										<%= t('contacts.deleted.no_contacts') if params[:letter].blank? %>
									<% else %>
										<%= t('contacts.unverified.no_contacts_with_letter', :alphabet => params[:letter]) if !params[:letter].blank? %>
										<%= t('contacts.verified.no_contacts') if params[:letter].blank? %>
									<% end %>
								</div>
							</div>
						<% end %>
					<% end %>
				</div>
            </div>
        </div>
</div>â€‹




