<div class="form-horizontal">
	<div id="error_messages"><%= f.error_messages %></div>
	<div class="control-group">
		<%= f.label(:name, "#{t('solution_category.name')} <span class='required_star'>*</span>".html_safe, {:class =>'control-label'}) %>
		<div class="controls">
			<%= f.text_field :name, 
											:class => "text required",
											:autocomplete => "off",
											:autofocus => true,
											:value => @category.name,
											:name => "#{name}[name]" %>
			<%= primary_preview(@primary, :name) if @primary && @primary != @category %>
		</div>
	</div>
	<div class="control-group">
		<%= f.label(:description, t('description'), {:class =>'control-label'}) %>
		<div class="controls">
			<%= f.text_area :description, :rows => 7, :value => @category.description, :name => "#{name}[description]" %>
			<%= primary_preview(@primary, :description) if @primary && @primary != @category %>
		</div>
	</div>
	<% if current_account.portals.count > 1 %>
	<div class="control-group">
		<label class="control-label"><%= t("solution_category.product_portal_visibility").html_safe %></label>
		<div class="controls">
			<% if @primary && @primary != @category %>
				<div class="pt5">
					<%= portals_for_category(@category_meta) %>
				</div>
			<% else %>
				<%= f.collection_select :portal_ids, current_account.portals, 
																:id, :portal_name, 
																{
																	:selected => @category.new_record? ? @portal.id : @category.portals.map(&:id)
																}, 
																:class => "select2 input-xlarge portal_visibility_required", :multiple => true, 
																:placeholder => t("solution_category.select_solution_category").html_safe,
																:name => "solution_category_meta[portal_ids][]" %>
			<% end %>
		</div>
	</div>
	<input name="portal_id" id="reorder_portal_id" type="hidden" value="<%= @portal.id %>" />
	<% end %>
	<%= dynamic_hidden_fields(:category) %>
</div>
