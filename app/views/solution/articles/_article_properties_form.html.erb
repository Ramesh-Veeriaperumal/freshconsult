<div id="tab-wrapper" class="tab-wrapper">
	<%= tabs_for do |tab| %>
		
		<% tab.create('tags', t('solution.articles.prop_tabs.tag_fol')) do %>
			
			<%= article_version.fields_for :tags  do |tag| %>
				<div class="control-group row-fluid">
					<%= tag.label(:name, t('tag.title'),:class =>"control-label") %>
					<div class="controls">
						<%= tag.text_field :name , 
															 :value => @article.tags.collect{|tag| tag.name}.join(','), 
															 :class => "span12 article-tags",
															 :id => "tags_name" %>
					</div>
				</div>
			<%end%>

			<div class="control-group">
				<%= f.label :solution_folder_meta_id, t('solution.folder'), :class => "control-label" %>
				<div class="controls">
					<% unless @article.is_primary? %>
						<div class="mt7"> <%= @folder_meta.send("#{@language.to_key}_folder").name %> </div>
					<% else %>
						<%= f.select :solution_folder_meta_id , 
									option_groups_from_collection_for_select(
											current_account.solution_category_meta.includes(:primary_category, :solution_folder_meta => :primary_folder).reject(&:is_default), 
											:solution_folder_meta, :name, :id, :name, 
											@article_meta.solution_folder_meta_id
									), 
									{ :include_blank => true },
									:class => "select2 span3 required",
									:placeholder => t('solution.folders.choose_folder'),
									:"data-original-value" => @article_meta.solution_folder_meta_id
						%>
						<% if current_account.multilingual? %>
							<div class="check-translations hide muted span3">
								<%= t('solution.articles.check_translations') %>
							</div>
						<% end %>
					<% end %>
				</div>
			</div>

			<div class="control-group row-fluid">
				<%= f.label :art_type, t('solution.articles.type'),:class =>"control-label" %>
				<div class="controls mt7">
					<% unless @article.is_primary? %>
						<%= t(@article_meta.type_name) %>
					<% else %>
						<% Solution::Article::TYPE_NAMES_BY_KEY.each do |val, type| %>
							<%= f.radio_button :art_type, val, :checked => (val == (@article_meta.art_type || Solution::Article::TYPE_KEYS_BY_TOKEN[:permanent])) %>
							<%= f.label :art_type, t(type), :value => val %>
						<% end %>
					<% end %>
				</div>
			</div>

			<% if privilege?(:admin_tasks) %>
				<div class="control-group row-fluid">
					<%= article_version.label :user_id, t('solution.change_author'),:class =>"control-label" %>
					<div class="controls">
						<%= article_version.select :user_id,
		          options_for_select(current_account.technicians.collect{|t|[t.name, t.id]}, @article.user_id), 
		          { :id => "change_author",
		            :include_blank => true,
		          	:class => "select2 required",
		          	:'data-container-css-class' => 'author-dropdown',
		          	:'data-dropdown-css-class' => 'author-dropdown' }%>
					</div>
				</div>
			<% end %>

		<% end %>


		<% tab.create('meta', t('solution.articles.prop_tabs.meta')) do %>
			
			<%= article_version.fields_for :seo_data  do |s| %>
								
				<div class="control-group">
					<%= s.label(:meta_title, t('solution.solution_meta_title'), :class => 'control-label') %>
					<div class="controls">
						<%= s.text_field :meta_title, :class => "text", :rel => "charcounter", 
							'data-counter' => "TitleCounter", 'data-limit' => 72, 
							:value => (@article.seo_data || {})[:meta_title] %>

						<div class="muted">
							<%= t('solution.article_properties.title_counter_message') %>
						</div>
					</div>
				</div>
				
				<div class="control-group">
					<%= s.label(:meta_description, t('solution.solution_meta_description'), :class => 'control-label') %>
					<div class="controls">
			    	<%= s.text_area  :meta_description, :rel => "charcounter", 
							'data-counter' => "DescriptionCounter", 'data-limit' => 150, 
							:value => (@article.seo_data || {})[:meta_description], 
							:class => "solution-properties-description",
							:id => :solution_article_seo_data_meta_description %>
						<div class="muted">
				    		<%= t('solution.article_properties.description_counter_message') %>
			  		</div>
			  	</div>
			  </div>
				
				<div class="control-group">
					<%= s.label(:meta_keywords, t('solution.solution_meta_keywords'), :class => 'control-label') %>
					<div class="controls">
						<%= s.text_field :meta_keywords, :class => "text", 
							:value => (@article.seo_data || {})[:meta_keywords] %>
						<div class="muted">
							<%= t('solution.meta_keywords_message') %>
						</div>
					</div>
				</div>
			<% end %>
		<% end %>	
		<%= dynamic_hidden_fields(:article) %>
	<% end %>
</div>