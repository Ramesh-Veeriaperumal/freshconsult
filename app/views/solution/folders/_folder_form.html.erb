	<ul id="folder-form-container" class="form-horizontal">  
	    <%= f.error_messages %>
		<li class="control-group">
	    	<%= f.label(:name, "#{t('name')} <span class='required_star'>*</span>".html_safe,{:class => 'control-label'}) %>
	    	<div class="controls">
	    		<%= f.text_field :name, :class => "required" %>
	    	</div>
		</li>
		<li class="control-group">
			<%= f.label(:description, t('description'), { :class => 'control-label'}) %>
			<div class="controls">
		 		<%= f.text_area :description, :class => "smallpara" %>
		 	</div>
		</li>  
		<li class="companies_select control-group">
    	<%= f.label :visibility, t('.visible_to'),{:class =>'control-label'} %>
    	<div class="controls">
    		<div class="row-fluid">
	    	<%= f.select :visibility, Solution::Constants::VISIBILITY_OPTIONS, :class => "select select2" %>
	    
	    	<% f.fields_for :customer_folders_attributes do |cust| %>
	    	</div>
	    	<div id="company_folders" class="row-fluid">
  				<%= cust.select(:customer_id , current_account.customers.collect{|c|[c.name, c.id]},{:selected => @folder.customer_folders.map(&:customer_id)}, { :multiple => true, :class => "select2 span8" , "data-placeholder" => 'Select company'}) %>
  			</div>
	  	</div>
      <%end%> 
    </li>
	</ul>	
    <% javascript_tag do %>  
     jQuery(document).ready(function(){ 			         
		jQuery('#solution_folder_visibility')
			.bind("change", function(e){
				show_hide_customers();
		});		
		function show_hide_customers(){
			visiblity = jQuery('#solution_folder_visibility').val();				
				if (visiblity  == 4)
				{
				   jQuery('#company_folders').show();
				}
				else
				{
				  jQuery('#customer_id').val("");
				  jQuery("#customer_id").trigger("liszt:updated");
				  jQuery('#company_folders').hide();

				}
			};

	    show_hide_customers();			  	
	});  
     <% end %>