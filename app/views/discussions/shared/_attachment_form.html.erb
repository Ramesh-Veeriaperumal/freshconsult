<%
	attach_id ||= "post"
	attachments ||= []
	nsc_param = nsc_param || "post"
%>
<div class="attachments-wrap clearfix">
	<div id="<%=attach_id%>-container" class="attachments-container">

		<div class="hidden_upload">
			<div class="add_attachment"><span>+</span> <%= t('attach_file') %> </div>
			<input type="file" id="<%=attach_id%>_file" name="emptyfile"
							nameWhenFilled="<%=nsc_param%>[attachments][][resource]"
							fileContainer="<%=attach_id%>-container"
							fileList="<%=attach_id%>-attachments"
							sendFocusTo="<%=attach_id%>-body"/>
		</div>
		<div class="clear"> </div>
		<label class="hide"><i class="a-count">0 </i> <%= t('attachments')%>: </label>
		<div class="attachment_wrapper mb20">
			<ul class="attachments attachment_list" id="<%=attach_id%>-attachments">
				<% attachments.each do |attached| %>
					<%= attachment_list(attached, true, "article", nil) %>
			    <% end %>
		    </ul>
		</div>
	</div>
</div>
<script id="file-list-template" type="text/x-jquery-tmpl">
	<li class="attachment list_element {{if (!file_valid)}}invalid tooltip{{/if}}"{{if (!file_valid)}} title="<%= t('helpdesk.tickets.note.attachment_size.exceed_limit') %>"{{/if}}>
		<div>
			{{if (file_valid)}}
			<a 	class="delete mr10" href="#" 
				onclick="remove_file_size_alert(this); Helpdesk.Multifile.remove(this); return false;"
				inputId="${inputId}" >
			</a>
			{{/if}}
			<div class="attachment-type">
			</div>
			<div class="attach_content">
				<div class="ellipsis">
					<a href="javascript:void(0)">${name}</a>
				</div>
				<span class="file-size">
					{{if (size != '0.00 KB ' ) }} ( ${size} ){{/if}}
				</span>
			</div>
		</div>
	</li>
</script>
<div class="clearfix"></div>
