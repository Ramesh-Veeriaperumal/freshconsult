<% content_for :onload_script do %>
  $J('#rightCol').css("minHeight", $J('#leftcol').height());
  $J("#helpdesk-select-all").live("click", function(ev){
    $J("#tickets-expanded input[type=checkbox]").prop("checked", $J(this).prop("checked"));
    $J("#tickets-expanded input[type=checkbox]").trigger('change');
  }); 

  $J("#select_view_id").live("change", function(ev){
    window.location = this.value;
  });
  
  $J("#assign-options-link").live("click", function(ev){
    jQuery("#assign-options").show();
    jQuery(this).hide();
  });
  setTimeout(function(){
    jQuery('#ticket-leftFilter').trigger('afterShow');
  },50)
<% end %>
<% content_for :layoutType do -%>ticket_list<%- end %>
<div class="containerFull">
  <div id="leftcol" class="ticket-leftcol" style="display:<%=(@current_view != 'deleted' && @current_view != 'spam' && @current_view != 'monitored_by') ? 'block' : 'none' %>">
    <div id="ticket-leftFilter" rel="remote" class="leftFilter" data-remote-url="/helpdesk/tickets/filter_options" >   
    </div>
  </div>
  <div id="rightCol" class="contentCol <%="hasRightCol" unless (@current_view == "deleted" or @current_view == "spam" or @current_view == "monitored_by") %>">
    <%= render :partial => "helpdesk/shared/ticket_view", :locals => { :items => @items } , :inline => true %>
  </div>
</div>

<%= javascript_include_tag "ticket_list" %>
<%= javascript_include_tag "sisyphus" %>