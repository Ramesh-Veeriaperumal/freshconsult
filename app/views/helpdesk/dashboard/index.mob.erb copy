<!DOCTYPE HTML>
<html manifest="freshdesk.manifest">

	<head>

		<title>freshdesk</title>
		
		<meta name="viewport" content="width=device-width,user-scalable=no" />

		<link type="text/css" rel="stylesheet" media="screen" href="/jqtouch/jqtouch.css">		
		<link type="text/css" rel="stylesheet" media="screen" href="/themes/freshdesk/theme.css">
		
		<script type="text/javascript" src="/jqtouch/jquery.js"></script>		
		<script type="text/javascript" src="/jqtouch/jqtouch.js"></script>
		
		<script type="text/javascript">
    	
    		var jQT = $.jQTouch({
        	icon: '/images/freshdesk.png',
        	startupScreen: '/themes/freshdesk/img/freshdesk-splash.png',
        	statusBar: 'black',
        	addGlossToIcon: false
    		});

			// Clicking on Tickets.
		    $(document).ready(function() {		
		      $("#t_view_link").click(function(ev) {
			  	console.log("am going to fetch tickets dashboard")
				$.ajax({
				  url: "/helpdesk/dashboard/tickets_count",
				  type:"get",
				  data: {},
				  success: function(data){
				  	cnts = eval(data);
					for (var key in cnts) {
					  	cnt_disp = $("#"+key+"_cnt");
						cnt_disp.text(cnts[key]);
					}
				  },
				  failure: function(data){
						alert("error "+data);
				  }
				});
		      });
		    });


			// Clicking on any customer view link.  This will list the tickets in the custom view.
		    $(function() {
		      $(".tic_cnt").click(function(e) {
			  	clicked_custom_view = $(this).attr('id')
			  	console.log("am going to fetch tickets for "+clicked_custom_view)
				$.ajax({
				  url: "/helpdesk/tickets.json",
				  type:"get",
				  data: {},
				  success: function(data){
				  	tickets_arr = eval(data)['helpdesk_tickets']
					for (var i = 0; i < tickets_arr.length; i++) {
						ticket_row = '<li class="arrow"> <a class="ticket_row" href="#ticketview"><div class="ticketnew"></div> <div class="timestampfix">'+tickets_arr[i]['frDueBy']+
										'<p class="smallcounter">5</p></div> <div> <div class="ticketsender">'+tickets_arr[i]['requester_id']+
										'</div> <div class="ticketsubject">'+tickets_arr[i]['subject']+
										'</div> <div class="ticketprop">Agent: <strong>'+tickets_arr[i]['responder_id']+
										'</strong> Status: <strong>'+tickets_arr[i]['status']+
										'</strong> Priority: <strong>'+tickets_arr[i]['priority']+
										'</strong> </div> </div> </a></li>'
						tickets_list = $('#tickets_list')
						tickets_list.empty()
						tickets_list.append(ticket_row)
					}
				  },
				  failure: function(data){
						alert("error "+data);
				  }
				});
		      });
		    });

			// Clicking on any ticket.  This will open the single ticket view.
		    $(function() {
		      $(".ticket_row").click(function() {
			  	alert("trow")
		      });
		    });

		</script>
	
	</head>	
	
	<body>

	<div id="jqt" class="supports3d portrait">
	
		<!-- Dashboard or icon view -->
		
		<div id="dashboard">
			
			<div class="toolbar">
			
				<h1>freshdesk</h1>
				<div> <%=link_to "Sign out", logout_path+"?mob=true"%> </div>
			</div>
			<div id="search" class="searchbox">
				<form>
				
					<input type="search" placeholder="Search" name="search" /> 
				
				</form>
				
			</div>	
		
			<div class="actionbox">
				
				<div class="activityicon">
					
					<div>Activity Feed</div>
				
				</div>

				<a href="#tickets" class="slideleft">				
				<div id="t_view_link" class="ticketicon">
					<div>Tickets</div>
				</div>
				</a>

				<a href="#contacts" class="slideleft" id="c_view_link">
				<div class="contacticon">
					
					<div>Contacts</div>

				</div>
				</a>
				<div class="socialicon">

					<div>Social</div>

				</div>

			</div>
			
		</div>
		
		<!-- List View of Ticket category/filter View -->
		
		<div id="tickets">
		
			<div class="toolbar">
			
				<h1>Tickets</h1>
				
				<a href="#login" class="button back">Back</a>
				
				<a href="#round" class="button slideup"> <strong>+ </strong></a>

			</div>
			
			<div id="search" class="searchbox">
				
				<form>
				
					<input type="search" placeholder="Search" name="search" /> 
				
				</form>
				
			</div>	
			
			<div class="ticketsbadge">
			
				<!-- div class="badge">
					
					<div class="bigtext">10</div>
					
					<div class="smalltext">New</div>
	
				</div -->
	
				
				
				<div class="badge firstchild">
					
					<div id="overdue_cnt" class="bigtext">0</div>
					
					<div class="smalltext">Overdue</div>
	
				</div>
				
				<a id="open" class="tic_cnt" href="#tickets_list_view"><div class="badge">
					
					<div id="open_cnt" class="bigtext">0</div>
					
					<div class="smalltext">Open</div>
	
				</div></a>
	
				<a id="on_hold" class="tic_cnt" href="#tickets_list_view"><div class="badge">
					
					<div id="on_hold_cnt" class="bigtext">0</div>
					
					<div class="smalltext">Pending</div>
	
				</div></a>
	
				<div class="badge">
					
					<div id="due_today_cnt" class="bigtext">0</div>
					
					<div class="smalltext">Due Today</div>
	
				</div>
	
				
				<div class="badge lastchild">
					
					<div id="new_cnt" class="bigtext">0</div>
					
					<div class="smalltext">Unassigned</div>
	
				</div>

			</div>
			<!--
			<ul class="rounded">
					<li class="arrow"><a href="#open">Open Tickets <small id="open" class="counter">5</small></a></li>
					
					<li class="arrow">Available Tickets <small class="counter">5</small></li>
					
					<li class="arrow">New Tickets <small class="counter">5</small></li>
					
					<li class="arrow">Unassigned Tickets <small class="counter">5</small></li>
					
					<li class="arrow">Pending Tickets <small class="counter">5</small></li>
					
					<li class="arrow">Overdue Tickets <small class="counter">5</small></li>
					
					<li class="arrow">My Team Tickets <small class="counter">5</small></li>
					
					<li class="arrow">Sales Tickets <small class="counter">5</small></li>
					
					<li class="arrow">Spam Tickets <small class="counter">5</small></li>
					
					<li class="arrow">Trash Tickets</li>
				
				</ul>
				-->
		</div>
		
		<!-- List view of Open Tickets -->
		 
		<div id="tickets_list_view">
		
			<div class="toolbar"><h1>Open Tickets</h1>
			
				<a href="#" class="button back">Back</a>
	
				<a href="#ticketview" class="button slideleft"> <strong>+ </strong></a>
			
			</div>
			
			<div id="search" class="searchbox">
			
				<form>
				
					<input type="search" placeholder="Search" name="search" /> 
				
				</form>
				
			</div>	
			
			<ul id="tickets_list" class="rounded">
			
			</ul>
		
		</div>
		
		<!-- Ticket Message view including replies -->
		
		<div id="ticketview">
		
			<div class="toolbar">
				
				<h1>This is a sample Ticket #1</h1>
				
				<a href="#" class="button back">Back</a>
				
				<a href="#" class="button flip"><strong><big>i</big></strong></a>
			
			</div>
			
			<div class="bg">
			
				<div class="contactinfo">
				
					<div class="floatleft">
						
						<div class="imgholder floatleft"></div>
						
						<div class="ticketstatus">
						
							<div><strong>Rachel</strong></div>
							
							<div>Status: Open</div>
							
							<div>Priority: Medium</div>
						
						</div>	
						
					</div>
					
				    <div class="floatright">
				    	
				    	<div class="time">1: 52 PM</div>
				    	
				    </div>
				    
				</div>
				
				<div class="ticketmsg">
					<strong>This is a sample Ticket #1</strong>
					
					<p>
					Gummi bears marzipan chocolate cake oat cake chupa chups chocolate caramels chupa chups lollipop. Croissant apple pie carrot cake soufflé tiramisu biscuit chocolate marshmallow lollipop. Apple pie biscuit chupa chups tiramisu dragée ice cream muffin. Gummies brownie tootsie roll cake cheesecake.
	Muffin fruitcake marshmallow pie dessert. Muffin marshmallow chocolate cake bear claw gingerbread faworki. Candy canes sesame snaps cotton candy dessert dragée tootsie roll.					
					</p>
			
				</div>
				
				<div class="attachment">
					
					attachment.gif <span class="smalltxt">100kb</span>
						
				</div>
				
				<div class="agentinfo">
					
					<div class="floatleft">
						
						<div class="smallimgholder floatleft"></div>
						
						<div class="agentname">
						
							<div><strong>Agent Name</strong></div>
						
						</div>	
						
					</div>	
					
					<div class="floatright">
				    	
				    	<div class="time">1: 52 PM</div>
				    	
				    </div>
				    				   
				</div>
				 <div class="ticketmsg reply">
				 
				    	<p>
				 
				    	Cupcake gingerbread marshmallow jujubes toffee apple pie jelly-o. Pudding biscuit powder. Dessert jelly gummies lollipop halvah pie.
				 
				    	</p>
				    
				 </div>
				 
				 <div class="ticketmsg">
				 
				 <textarea placeholder="Reply to ticket"></textarea>
				 
				 </div>   
				    
			</div>
			
		</div>
	
		<!-- Ticket properties like status, type, etc. -->
		 
		<div id="ticketproperties">
			<div class="toolbar">
				<h1>Ticket Properties</h1>
			
				<a href="#ticketview" class="button flip"> <strong>i </strong></a>
			</div>
		
		
			<h4>Ticket Properties</h4>
			<form class="ticketprop">
			<div class="bg">
						<div>
						<label for="type">Type</label>
						<select name="type" >
							<option>Question</option>
							<option>Incident</option>
							<option>Problem</option>
							<option>Feature Request</option>
							<option>Lead</option>
						</select>
					</div>
					<div>
						<label for="source">Type</label>
						<select name="source">
							<option>Email</option>
							<option>Portal</option>
							<option>Phone</option>
							<option>Forum</option>
							<option>Twitter</option>
							<option>Facebook</option>
							<option>Chat</option>
						</select>
					</div>
					<div>
						<label for="status">Status</label>
						<select name="status">
							<option>Open</option>
							<option>Pending</option>
							<option>Resolved</option>
							<option>Close</option>
						</select>
					</div>
					<div>
						<label for="priority">Priority</label>
						<select name="priority">
							<option>Low</option>
							<option>Medium</option>
							<option>High</option>
							<option>Urgent</option>
						</select>
					</div>
					<div>
						<label for="group">group</label>
						<select name="group">
							<option>Product Management</option>
							<option>QA</option>
							<option>Marketing</option>
							<option>Sales</option>
						</select>
					</div>
					<div>
						<label for="agent">Agent</label>
						<select name="agent">
							<option>Agent Name 1</option>							
						</select>
					</div>
				</div>
				</form>

				<h4>Suggested Solutions</h4>
				<div class="bg">
					<div>
						<input type="search" name="search" placeholder="Search Solutions"/>
					</div>
				</div>
						
		</div>

		<div id="contacts">
			
			<div class="toolbar">
			
				<h1>Contacts</h1>
				
				<a href="#" class="button back">Back</a>
				
				<a href="#" class="button slideup"> <strong>+ </strong></a>

			</div>
			
			<div id="search" class="searchbox">
				
				<form>
				
					<input type="search" placeholder="Search" name="search" /> 
				
				</form>
				
			</div>	
			
				<ul class="rounded">
				
					<li class="arrow"><a href="#contactdetails">
						<div class="smallimgholder floatleft" style="background: transparent url('./freshdesk.png') 50% 50% no-repeat"></div>
						<div class="contactname">Contact Name 
							<div>Company Name</div>
						</div></a>
					</li>
					
					<li class="arrow"><a href="#contactdetails">
						<div class="smallimgholder floatleft" style="background: transparent url('./freshdesk.png') 50% 50% no-repeat"></div>
						<div class="contactname">Contact Name
							<div>Company Name</div>
						</div></a>
					</li>
					
					<li class="arrow"><a href="#contactdetails">
						<div class="smallimgholder floatleft" style="background: transparent url('./freshdesk.png') 50% 50% no-repeat"></div>
						<div class="contactname">Contact Name
							<div>Company Name</div>
						</div></a>
					</li>
					
					<li class="arrow"><a href="#contactdetails">
						<div class="smallimgholder floatleft" style="background: transparent url('./freshdesk.png') 50% 50% no-repeat"></div>
						<div class="contactname">Contact Name
							<div>Company Name</div>
						</div></a>
					</li>
					
					<li class="arrow"><a href="#contactdetails">
						<div class="smallimgholder floatleft" style="background: transparent url('./freshdesk.png') 50% 50% no-repeat"></div>
						<div class="contactname">Contact Name
							<div>Company Name</div>
						</div></a>
					</li>
					
					<li class="arrow"><a href="#contactdetails">
						<div class="smallimgholder floatleft" style="background: transparent url('./freshdesk.png') 50% 50% no-repeat"></div>
						<div class="contactname">Contact Name
							<div>Company Name</div>
						</div></a>
					</li>
					
					<li class="arrow"><a href="#contactdetails">
						<div class="smallimgholder floatleft" style="background: transparent url('./freshdesk.png') 50% 50% no-repeat"></div>
						<div class="contactname">Contact Name
							<div>Company Name</div>
						</div></a>
					</li>					
					
					<li class="arrow"><a href="#contactdetails">
						<div class="smallimgholder floatleft" style="background: transparent url('./freshdesk.png') 50% 50% no-repeat"></div>
						<div class="contactname">Contact Name
							<div>Company Name</div>
						</div></a>
					</li>
					
					<li class="arrow"><a href="#contactdetails">
						<div class="smallimgholder floatleft" style="background: transparent url('./freshdesk.png') 50% 50% no-repeat"></div>
						<div class="contactname">Contact Name
							<div>Company Name</div>
						</div></a>
					</li>
					
					<li class="arrow"><a href="#contactdetails">
						<div class="smallimgholder floatleft" style="background: transparent url('./freshdesk.png') 50% 50% no-repeat"></div>
						<div class="contactname">Contact Name
							<div>Company Name</div>
						</div></a>
					</li>
					
				</ul>
			
		</div>
		
		<div id="contactdetails">
			
			<div class="toolbar">
				<h1>Contact Name</h1>
				<a href="#" class="button back">Back</a>
				<a href="#editcontact" class="button slideup">Edit</a>
			</div>
			
			<div class="contactinfo">
				
				<div class="imgholder floatleft" style="background: transparent url('./freshdesk4.png') 50% 50% no-repeat"> </div>
					<div class="floatleft contactdetail">
					<div><strong>Contact Name</strong></div>
					<div class="company">Company Name</div>	
					<div class="city">San Francisco</div>	
				</div>
				
			</div>
			<ul class="rounded">
					<li class="detail"><p class="label">Email</p><p>contacname@company.com</p> </li>
					<li class="detail"><p class="label">Phone</p><p>000000000000</p></li>
					<li class="detail"><p class="label">Skype</p><p>talk_2_me</p></li>
			</ul>
			<h4>Notes</h4>
			<ul class="rounded">
					<li class="detail">
					<p>
					Sweet muffin topping gummies faworki lemon drops. Jelly-o jelly-o cupcake gummi bears jelly cotton candy pastry icing danish. Halvah jelly apple pie lollipop. Bear claw topping tootsie roll fruitcake.</p></li>
			</ul>
			
			<h4>Recent Tickets</h4>
			<ul class="rounded">
				
				<li class="arrow">

					<a href="#ticketview"><div class="ticketnew"></div>	
					
					<div class="timestampfix">1:52 PM <p class="smallcounter">5</p></div>
	  
					<div>
						  <div class="ticketsender">Rachel</div>
		
						  <div class="ticketsubject">This is a sample Ticket #1</div>
		
						  <div class="ticketprop">Agent: <strong>Me</strong> 
		
						  Status: <strong>Open</strong> 
		
						  Priority: <strong>Medium</strong>

						  </div>

					 </div> 
				     </a>
				</li>
			
				<li class="arrow">
				
					<div class="ticketnew"></div>	
					
					<div class="timestampfix">1:52 PM <p class="smallcounter">5</p></div>
	  
					<div>
						  <div class="ticketsender">Rachel</div>
		
						  <div class="ticketsubject">This is a sample Ticket #1</div>
		
						  <div class="ticketprop">Agent: <strong>Me</strong> 
		
						  Status: <strong>Open</strong> 
		
						  Priority: <strong>Medium</strong>

						  </div>

					 </div> 

				</li>
			
				<li class="arrow">
				
					<div class="ticketnew"></div>	
					
					<div class="timestampfix">1:52 PM <p class="smallcounter">5</p></div>
	  
					<div>
						  <div class="ticketsender">Rachel</div>
		
						  <div class="ticketsubject">This is a sample Ticket #1</div>
		
						  <div class="ticketprop">Agent: <strong>Me</strong> 
		
						  Status: <strong>Open</strong> 
		
						  Priority: <strong>Medium</strong>

						  </div>

					 </div> 

				</li>			
			
			</ul>				

		</div>
	</div>	

	</body>

</html>
