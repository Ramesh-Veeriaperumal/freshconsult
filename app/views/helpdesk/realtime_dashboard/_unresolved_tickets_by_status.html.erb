<div data-gs-x="<%= x %>" data-gs-y="<%= y %>" data-gs-width="<%= width %>" data-gs-height="<%= height %>" class="grid-stack-item widget unresolved_tickets_by_status_widget">
    <div class="grid-stack-item-content widget-inner">
		<h3 class="widget-title">
	        <%=t('helpdesk.realtime_dashboard.unresolved_tickets_by_status') %>
	    </h3>
	    <div class="widget-title-muted muted" rel="timestamp"></div>
		<div class="widget-content">
			<div id="unresolved_tickets_by_status">
				<div class="sloading loading-small loading-block"></div>
			</div>
		</div>
		<% if !(current_user.privilege?(:admin_tasks) || current_user.privilege?(:view_reports) ) %>
			<a href="javascript:void(0)" rel="view_all_unresolved_by_status" style="display:none";
         		 class="widget-more-link text-center hide"
         	 > <%=t('helpdesk.realtime_dashboard.view_all') %> </a>
		<% else %>
			<a href="/helpdesk/dashboard/unresolved_tickets"
         		 class="widget-more-link text-center hide"
         		 data-pjax="#body-container"
         	 > <%=t('helpdesk.realtime_dashboard.detailed_summary') %> </a>
		<% end %>
	</div>
</div>
<% if current_user.privilege?(:admin_tasks) %>
	<script>
	  jQuery('body').one('assetLoaded.fjax', function() {
	   	 setTimeout(function(){
	   	 		new RealtimeDashboard.Widgets.UnresolvedTickets.OtherRoles(
			   	 	'unresolved_tickets_by_status',
			   	 	'unresolved_tickets_by_status',
			   	 	'group_id,status',
			   	 	'group_id',
			   	 	 5
			   	 	).init();
	   	 },100);
	   	 
	  });
	</script>
<% elsif current_user.privilege?(:view_reports) %>
	<script>
	  jQuery('body').one('assetLoaded.fjax', function() {
	   	 setTimeout(function(){
		   	 new RealtimeDashboard.Widgets.UnresolvedTickets.OtherRoles(
		   	 	'unresolved_tickets_by_status',
		   	 	'unresolved_tickets_by_status',
		   	 	'responder_id,status',
		   	 	'responder_id',
		   	 	 5
		   	 	).init();
		 },100);
	  });
	</script>
<% else %>
<script>
  jQuery('body').one('assetLoaded.fjax', function() {
  	setTimeout(function(){
   	 new RealtimeDashboard.Widgets.UnresolvedTickets.Agent('unresolved_tickets_by_status',
   	 	'unresolved_tickets_by_status',
   	 	'status',
   	 	 1,
   	 	 4
   	 	).init();
   	 },100);
  });
</script>
<% end %>
